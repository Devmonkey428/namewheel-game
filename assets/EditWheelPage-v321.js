import{_ as U,ag as E,h as D,aj as He,o as _,c as W,a4 as A,an as Ve,a7 as se,a6 as T,af as pe,a8 as J,ai as qe,at as ll,a3 as L,w as n,a as l,bh as xt,d as r,t as u,ar as H,as as te,f as w,a_ as z,U as Q,bW as Ne,n as h,bj as ol,Q as Z,e as O,ah as le,az as $,ao as Ge,bl as B,bX as nl,k as x,ba as Ie,aA as al,aY as Le,bY as be,ap as ae,bZ as Ke,F as he,r as ke,v as de,aq as Se,b_ as ve,b$ as il,aW as sl,bD as rl,c0 as We,c1 as Tt,c2 as me,c3 as _t,c4 as dl,aw as cl,c5 as vt,bw as pt,T as wt,c6 as ul,K as fl,b3 as ml,b4 as hl,y as gl,q as xe,bg as Vt,bT as _l,c7 as vl,ak as pl,al as b,c8 as yt,am as bt,au as wl,c9 as kt}from"./index-v321.js";import{_ as yl}from"./dynamic-import-helper-v321.js";import{c as bl,Q as kl,a as Sl,b as St}from"./QToolbar-v321.js";import{Q as Dl}from"./QToolbarTitle-v321.js";import{Q as ce}from"./QSpace-v321.js";import{Q as Pe}from"./QTooltip-v321.js";import{a as Be,b as F,c as k,C as ne,Q as Al,D as Oe,S as Cl,A as Ll,p as Wl}from"./DialogCloseIcon-v321.js";import{Q as It,c as ee,d as Pl,e as Te,u as Dt,a as El,C as xl,E as Tl,l as At,b as Vl}from"./WinnerAnimation-v321.js";import{s as Y,M as ue,c as ge,a as ie,b as ze,d as Ct,y as Lt}from"./Messenger-v321.js";import{Q as Il}from"./QMarkupTable-v321.js";import{Q as Ol}from"./QBadge-v321.js";import{A as jl}from"./AboutCard-v321.js";import{i as Rl,r as Ml}from"./vue.f49591ad-v321.js";import"./position-engine-v321.js";import"./selection-v321.js";import"./_commonjsHelpers-v321.js";import"./QTabPanels-v321.js";import"./use-panel-v321.js";import"./QChip-v321.js";import"./QImg-v321.js";import"./use-ratio-v321.js";import"./QCarousel-v321.js";const Ye=(()=>{if(typeof self=="undefined")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),Fl=Ye?Promise.resolve().then(function(){return zl}):Promise.resolve().then(function(){return Jl});async function Wt(...c){return(await Fl).default(...c)}Ye?Promise.resolve().then(function(){return Hl}):Promise.resolve().then(function(){return Xl});const Ul=Ye?Promise.resolve().then(function(){return Kl}):Promise.resolve().then(function(){return eo});async function ql(...c){return(await Ul).default(...c)}const Nl=async c=>{const t=await c.getFile();return t.handle=c,t};var Bl=async(c=[{}])=>{Array.isArray(c)||(c=[c]);const t=[];c.forEach((s,i)=>{t[i]={description:s.description||"Files",accept:{}},s.mimeTypes?s.mimeTypes.map(o=>{t[i].accept[o]=s.extensions||[]}):t[i].accept["*/*"]=s.extensions||[]});const a=await window.showOpenFilePicker({id:c[0].id,startIn:c[0].startIn,types:t,multiple:c[0].multiple||!1,excludeAcceptAllOption:c[0].excludeAcceptAllOption||!1}),e=await Promise.all(a.map(Nl));return c[0].multiple?e:e[0]},zl={__proto__:null,default:Bl};function Ee(c){function t(a){if(Object(a)!==a)return Promise.reject(new TypeError(a+" is not an object."));var e=a.done;return Promise.resolve(a.value).then(function(s){return{value:s,done:e}})}return Ee=function(a){this.s=a,this.n=a.next},Ee.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(a){var e=this.s.return;return e===void 0?Promise.resolve({value:a,done:!0}):t(e.apply(this.s,arguments))},throw:function(a){var e=this.s.return;return e===void 0?Promise.reject(a):t(e.apply(this.s,arguments))}},new Ee(c)}const Ot=async(c,t,a=c.name,e)=>{const s=[],i=[];var o,d=!1,f=!1;try{for(var p,m=function(g){var y,v,S,P=2;for(typeof Symbol!="undefined"&&(v=Symbol.asyncIterator,S=Symbol.iterator);P--;){if(v&&(y=g[v])!=null)return y.call(g);if(S&&(y=g[S])!=null)return new Ee(y.call(g));v="@@asyncIterator",S="@@iterator"}throw new TypeError("Object is not async iterable")}(c.values());d=!(p=await m.next()).done;d=!1){const g=p.value,y=`${a}/${g.name}`;g.kind==="file"?i.push(g.getFile().then(v=>(v.directoryHandle=c,v.handle=g,Object.defineProperty(v,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>y})))):g.kind!=="directory"||!t||e&&e(g)||s.push(Ot(g,t,y,e))}}catch(g){f=!0,o=g}finally{try{d&&m.return!=null&&await m.return()}finally{if(f)throw o}}return[...(await Promise.all(s)).flat(),...await Promise.all(i)]};var Ql=async(c={})=>{c.recursive=c.recursive||!1,c.mode=c.mode||"read";const t=await window.showDirectoryPicker({id:c.id,startIn:c.startIn,mode:c.mode});return(await(await t.values()).next()).done?[t]:Ot(t,c.recursive,void 0,c.skipDirectory)},Hl={__proto__:null,default:Ql},Gl=async(c,t=[{}],a=null,e=!1,s=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const i=[];let o=null;if(c instanceof Blob&&c.type?o=c.type:c.headers&&c.headers.get("content-type")&&(o=c.headers.get("content-type")),t.forEach((p,m)=>{i[m]={description:p.description||"Files",accept:{}},p.mimeTypes?(m===0&&o&&p.mimeTypes.push(o),p.mimeTypes.map(g=>{i[m].accept[g]=p.extensions||[]})):o?i[m].accept[o]=p.extensions||[]:i[m].accept["*/*"]=p.extensions||[]}),a)try{await a.getFile()}catch(p){if(a=null,e)throw p}const d=a||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:i,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!a&&s&&s(d);const f=await d.createWritable();return"stream"in c?(await c.stream().pipeTo(f),d):"body"in c?(await c.body.pipeTo(f),d):(await f.write(await c),await f.close(),d)},Kl={__proto__:null,default:Gl},Yl=async(c=[{}])=>(Array.isArray(c)||(c=[c]),new Promise((t,a)=>{const e=document.createElement("input");e.type="file";const s=[...c.map(f=>f.mimeTypes||[]),...c.map(f=>f.extensions||[])].join();e.multiple=c[0].multiple||!1,e.accept=s||"",e.style.display="none",document.body.append(e);const i=f=>{typeof o=="function"&&o(),t(f)},o=c[0].legacySetup&&c[0].legacySetup(i,()=>o(a),e),d=()=>{window.removeEventListener("focus",d),e.remove()};e.addEventListener("click",()=>{window.addEventListener("focus",d)}),e.addEventListener("change",()=>{window.removeEventListener("focus",d),e.remove(),i(e.multiple?Array.from(e.files):e.files[0])}),"showPicker"in HTMLInputElement.prototype?e.showPicker():e.click()})),Jl={__proto__:null,default:Yl},Zl=async(c=[{}])=>(Array.isArray(c)||(c=[c]),c[0].recursive=c[0].recursive||!1,new Promise((t,a)=>{const e=document.createElement("input");e.type="file",e.webkitdirectory=!0;const s=o=>{typeof i=="function"&&i(),t(o)},i=c[0].legacySetup&&c[0].legacySetup(s,()=>i(a),e);e.addEventListener("change",()=>{let o=Array.from(e.files);c[0].recursive?c[0].recursive&&c[0].skipDirectory&&(o=o.filter(d=>d.webkitRelativePath.split("/").every(f=>!c[0].skipDirectory({name:f,kind:"directory"})))):o=o.filter(d=>d.webkitRelativePath.split("/").length===2),s(o)}),"showPicker"in HTMLInputElement.prototype?e.showPicker():e.click()})),Xl={__proto__:null,default:Zl},$l=async(c,t={})=>{Array.isArray(t)&&(t=t[0]);const a=document.createElement("a");let e=c;"body"in c&&(e=await async function(o,d){const f=o.getReader(),p=new ReadableStream({start:y=>async function v(){return f.read().then(({done:S,value:P})=>{if(!S)return y.enqueue(P),v();y.close()})}()}),m=new Response(p),g=await m.blob();return f.releaseLock(),new Blob([g],{type:d})}(c.body,c.headers.get("content-type"))),a.download=t.fileName||"Untitled",a.href=URL.createObjectURL(await e);const s=()=>{typeof i=="function"&&i()},i=t.legacySetup&&t.legacySetup(s,()=>i(),a);return a.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(a.href),3e4),s()}),a.click(),null},eo={__proto__:null,default:$l};const to={__name:"LanguagePicker",emits:["open-languages"],setup(c,{expose:t,emit:a}){t();const{locale:e}=E(),s=a,i=D(()=>{var d;return(d=He().find(f=>f.name==e.value))==null?void 0:d.humanName}),o={locale:e,emit:s,languageName:i,computed:D,get useI18n(){return E},get Locales(){return Ve}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}};function lo(c,t,a,e,s,i){return _(),W(A,{stretch:"",flat:"","no-caps":"",icon:"fas fa-globe",label:e.languageName,"aria-label":"Language",onClick:t[0]||(t[0]=o=>e.emit("open-languages"))},null,8,["label"])}const oo=U(to,[["render",lo],["__file","LanguagePicker.vue"]]),no=se({__name:"AppToolbar",emits:["reset-wheel","open-wheel","save-wheel","share-wheel","customize-wheel","link-sheet","open-account-dialog","open-languages"],setup(c,{expose:t,emit:a}){t();const e=T(),s=pe(),{t:i,locale:o}=E(),d=J(),f=a,p=d.platform.is.capacitor?"Wheel of Names":window.location.host,m=D(()=>"/"+qe(o.value)),g=D(()=>d.fullscreen.isActive),y=D(()=>e.getters.wheelIsBusy),v=D(()=>e.getters.sheetLinked),S=D(()=>!g.value&&!v.value),P=D(()=>!v.value),V=D(()=>!g.value),R=D(()=>!g.value),G=D(()=>!g.value),K=D(()=>!g.value),q=D(()=>!g.value&&v.value),I=D(()=>!g.value),M=D(()=>!g.value),j=D(()=>ll(navigator.userAgent,e.getters.version));function oe(){d.fullscreen.isActive?L("Wheel","ExitFullscreen"):L("Wheel","EnterFullscreen"),d.fullscreen.toggle()}function re(){d.dark.toggle(),d.dark.isActive?L("Wheel","EnterDarkMode"):L("Wheel","EnterLightMode"),e.commit("setDarkMode",d.dark.isActive)}function _e(je){f("save-wheel")}function De(je){f("reset-wheel")}const we={store:e,router:s,t:i,locale:o,$q:d,emit:f,hostName:p,homeUrl:m,fullscreen:g,wheelIsBusy:y,sheetLinked:v,newButtonVisible:S,openButtonVisible:P,saveButtonVisible:V,shareButtonVisible:R,galleryButtonVisible:G,customizeButtonVisible:K,unlinkSheetButtonVisible:q,moreVisible:I,languageSelectorVisible:M,feedBackFormUrl:j,toggleFullscreen:oe,toggleDarkMode:re,saveWheel:_e,resetWheel:De,LanguagePicker:oo};return Object.defineProperty(we,"__isScriptSetup",{enumerable:!1,value:!0}),we}}),ao={style:{"font-size":"1em","line-height":"normal",margin:"0","font-weight":"400"}},io={class:"toolbar"};function so(c,t,a,e,s,i){return _(),W(bl,{class:"q-px-none"},{default:n(()=>[l(A,{stretch:"",flat:"","no-caps":"",to:e.homeUrl,color:"white"},{default:n(()=>[l(Dl,{class:"flex no-wrap items-center gap-sm"},{default:n(()=>[l(xt,{class:"desktop"},{default:n(()=>t[14]||(t[14]=[r("img",{src:"/images/logo-dark-background-38.png",alt:"logo",width:"38",height:"38",loading:"lazy"},null,-1)])),_:1}),r("h1",ao,u(e.hostName),1)]),_:1})]),_:1},8,["to"]),l(ce),r("div",io,[H(l(A,{stretch:"",flat:"","no-caps":"",disable:e.wheelIsBusy,icon:"fas fa-palette",label:e.t("common.Customize"),"aria-label":"Customize",onClick:t[0]||(t[0]=o=>e.emit("customize-wheel"))},null,8,["disable","label"]),[[te,e.customizeButtonVisible]]),H(l(A,{stretch:"",flat:"","no-caps":"",disable:e.wheelIsBusy,icon:"fas fa-file",label:e.t("toolbar.New"),"aria-label":"New",onClick:e.resetWheel},null,8,["disable","label"]),[[te,e.newButtonVisible]]),H(l(A,{stretch:"",flat:"","no-caps":"",disable:e.wheelIsBusy,icon:"fa fa-folder-open",label:e.fullscreen?"":e.t("common.Open"),"aria-label":"Open",onClick:t[1]||(t[1]=o=>e.emit("open-wheel",o))},{default:n(()=>[e.fullscreen?(_(),W(Pe,{key:0},{default:n(()=>[w(u(e.t("common.Open")),1)]),_:1})):z("",!0)]),_:1},8,["disable","label"]),[[te,e.openButtonVisible]]),H(l(A,{stretch:"",flat:"","no-caps":"",disable:e.wheelIsBusy||e.store.getters.readOnlyMode,icon:"fa fa-save",label:e.t("common.Save"),"aria-label":"Save",onClick:e.saveWheel},null,8,["disable","label"]),[[te,e.saveButtonVisible]]),H(l(A,{stretch:"",flat:"","no-caps":"",disable:e.wheelIsBusy||e.store.getters.readOnlyMode,icon:"fa fa-share-alt",label:e.t("toolbar.Share"),"aria-label":"Share",onClick:t[2]||(t[2]=o=>e.emit("share-wheel"))},null,8,["disable","label"]),[[te,e.shareButtonVisible]]),H(l(A,{stretch:"",flat:"","no-caps":"",disable:e.wheelIsBusy,color:"white",icon:"fa fa-search",label:e.t("toolbar.Gallery"),"aria-label":"Gallery",to:"/gallery"},null,8,["disable","label"]),[[te,e.galleryButtonVisible]]),l(A,{stretch:"",flat:"","no-caps":"",disable:e.wheelIsBusy,"aria-label":"Fullscreen",onClick:e.toggleFullscreen,icon:e.fullscreen?"fa fa-compress":"fa fa-expand"},{default:n(()=>[e.fullscreen?(_(),W(Pe,{key:0},{default:n(()=>[w(u(e.t("toolbar.Exit fullscreen")),1)]),_:1})):z("",!0),e.fullscreen?z("",!0):(_(),W(Pe,{key:1},{default:n(()=>[w(u(e.t("toolbar.Fullscreen")),1)]),_:1}))]),_:1},8,["disable","icon"]),H(l(A,{stretch:"",flat:"","no-caps":"",disable:e.wheelIsBusy,icon:"fa fa-unlink",label:e.t("toolbar.Unlink Google Spreadsheet"),"aria-label":"Unlink Google Spreadsheet",onClick:t[3]||(t[3]=o=>e.store.commit("unlinkSheet"))},null,8,["disable","label"]),[[te,e.unlinkSheetButtonVisible]]),H(l(It,{stretch:"",flat:"","no-caps":"",disable:e.wheelIsBusy,"aria-label":"More",label:e.t("toolbar.More")},{default:n(()=>[l(Be,null,{default:n(()=>[l(F,{href:e.feedBackFormUrl,style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-comment"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("toolbar.Feedback")),1)]),_:1})]),_:1})]),_:1},8,["href"]),l(F,{to:"/faq",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-question-circle"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("toolbar.FAQ")),1)]),_:1})]),_:1})]),_:1}),l(F,{to:"/user-reviews-and-tutorials",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fab fa-youtube"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("toolbar.User reviews and tutorials")),1)]),_:1})]),_:1})]),_:1}),l(F,{to:"/how-to-use-in-the-classroom",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-chalkboard-teacher"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("common.Use this in the classroom")),1)]),_:1})]),_:1})]),_:1}),l(F,{to:"/changelog",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-list-alt"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("common.Changelog")),1)]),_:1})]),_:1})]),_:1}),l(F,{to:"/privacy-policy",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-user-secret"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("common.Privacy policy")),1)]),_:1})]),_:1})]),_:1}),l(F,{to:"/faq/terms",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-balance-scale"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("appInfo.Terms of service")),1)]),_:1})]),_:1})]),_:1}),l(Ne),H((_(),W(F,{clickable:"",onClick:t[4]||(t[4]=o=>e.emit("link-sheet"))},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-link"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("common.Link Google Spreadsheet")),1)]),_:1})]),_:1})]),_:1})),[[ne]]),H((_(),W(F,{clickable:"",onClick:e.toggleDarkMode},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-moon"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("toolbar.Dark mode")),1)]),_:1})]),_:1})),[[ne]]),l(Ne),H((_(),W(F,{clickable:"",onClick:t[5]||(t[5]=o=>e.emit("open-account-dialog"))},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-user-alt"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("common.My account")),1)]),_:1})]),_:1})]),_:1})),[[ne]])]),_:1})]),_:1},8,["disable","label"]),[[te,e.moreVisible]]),H(l(e.LanguagePicker,{disable:e.wheelIsBusy,onOpenLanguages:t[6]||(t[6]=o=>e.emit("open-languages"))},null,8,["disable"]),[[te,e.languageSelectorVisible]])]),l(A,{class:"hamburger",round:"",unelevated:"",color:"primary",icon:"fas fa-bars"},{default:n(()=>[l(Al,null,{default:n(()=>[l(Be,null,{default:n(()=>[H((_(),W(F,{clickable:"",onClick:t[7]||(t[7]=o=>e.emit("customize-wheel"))},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-palette"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("common.Customize")),1)]),_:1})]),_:1})),[[ne]]),H((_(),W(F,{clickable:"",onClick:t[8]||(t[8]=o=>e.emit("reset-wheel"))},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-file"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("toolbar.New")),1)]),_:1})]),_:1})),[[ne]]),H((_(),W(F,{clickable:"",onClick:t[9]||(t[9]=o=>e.emit("open-wheel",o))},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-folder-open"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("common.Open")),1)]),_:1})]),_:1})),[[ne]]),H((_(),W(F,{clickable:"",disable:e.store.getters.readOnlyMode,onClick:t[10]||(t[10]=o=>e.emit("save-wheel"))},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-save"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("common.Save")),1)]),_:1})]),_:1},8,["disable"])),[[ne]]),H((_(),W(F,{clickable:"",disable:e.store.getters.readOnlyMode,onClick:t[11]||(t[11]=o=>e.emit("share-wheel"))},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-share-alt"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("toolbar.Share")),1)]),_:1})]),_:1},8,["disable"])),[[ne]]),l(F,{to:"/gallery",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-search"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("toolbar.Gallery")),1)]),_:1})]),_:1}),H((_(),W(F,{clickable:"",onClick:e.toggleFullscreen},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:e.fullscreen?"fa fa-compress":"fa fa-expand"},null,8,["name"])]),_:1}),e.fullscreen?z("",!0):(_(),W(k,{key:0},{default:n(()=>[w(u(e.t("toolbar.Fullscreen")),1)]),_:1})),e.fullscreen?(_(),W(k,{key:1},{default:n(()=>[w(u(e.t("toolbar.Exit fullscreen")),1)]),_:1})):z("",!0)]),_:1})),[[ne]]),H((_(),W(F,{clickable:"",onClick:e.toggleDarkMode},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-moon"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("toolbar.Dark mode")),1)]),_:1})]),_:1})),[[ne]]),l(F,{clickable:"",onClick:t[12]||(t[12]=o=>e.emit("open-languages"))},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-globe"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("toolbar.Language")),1)]),_:1})]),_:1}),l(F,{href:e.feedBackFormUrl,style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-comment"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("toolbar.Feedback")),1)]),_:1})]),_:1},8,["href"]),l(F,{to:"/faq",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-question-circle"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("toolbar.FAQ")),1)]),_:1})]),_:1}),l(F,{to:"/user-reviews-and-tutorials",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fab fa-youtube"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("toolbar.User reviews and tutorials")),1)]),_:1})]),_:1})]),_:1}),l(F,{to:"/how-to-use-in-the-classroom",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-chalkboard-teacher"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("common.Use this in the classroom")),1)]),_:1})]),_:1})]),_:1}),l(F,{to:"/privacy-policy",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-user-secret"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("common.Privacy policy")),1)]),_:1})]),_:1}),l(F,{to:"/faq/terms",style:{color:"unset"}},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fas fa-balance-scale"})]),_:1}),l(k,null,{default:n(()=>[w(u(e.t("appInfo.Terms of service")),1)]),_:1})]),_:1}),H((_(),W(F,{clickable:"",onClick:t[13]||(t[13]=o=>e.emit("link-sheet"))},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(Q,{name:"fa fa-link"})]),_:1}),l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("common.Link Google Spreadsheet")),1)]),_:1})]),_:1})]),_:1})),[[ne]])]),_:1})]),_:1})]),_:1})]),_:1})}const ro=U(no,[["render",so],["__scopeId","data-v-22d8b443"],["__file","AppToolbar.vue"]]),co=se({__name:"LoginDialog",setup(c,{expose:t}){const a=T(),{t:e}=E(),s=h(),i=h(!1);let o;async function d(y){if(!ol()){s.value=y,i.value=!0;try{L("Wheel","LoginAttempt",""),f()}catch(v){i.value=!1,Y(e,v),L("Wheel","LoginFailure",v==null?void 0:v.toString())}return new Promise(v=>o=v)}}async function f(){await a.dispatch("loginWithUi","auth-container"),L("Wheel","LoginSuccess",""),i.value=!1,o("login")}function p(){i.value=!1,o("cancel")}function m(){i.value=!1,o("switch")}t({askUserToLogIn:d});const g={store:a,t:e,method:s,displayDialog:i,get resolvePromise(){return o},set resolvePromise(y){o=y},askUserToLogIn:d,login:f,cancel:p,switchSaveLocation:m};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),uo={class:"text-h6"};function fo(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[3]||(t[3]=o=>e.displayDialog=o)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{style:{"background-color":"#00000020"}},{default:n(()=>[r("div",uo,[t[4]||(t[4]=r("i",{class:"fas fa-user"},null,-1)),w(" "+u(e.t("common.Log in")),1)])]),_:1}),l(O,null,{default:n(()=>[w(u(e.t("common.Please choose your sign-in method")),1)]),_:1}),l(O,null,{default:n(()=>t[5]||(t[5]=[r("div",{id:"auth-container"},null,-1)])),_:1}),l(le,{align:e.method?"between":"right"},{default:n(()=>[e.method==="save"?(_(),W(A,{key:0,"no-caps":"",unelevated:"",label:e.t("savedialog.Save to a local file instead"),onClick:t[0]||(t[0]=o=>e.switchSaveLocation())},null,8,["label"])):z("",!0),e.method==="open"?(_(),W(A,{key:1,"no-caps":"",unelevated:"",label:e.t("opendialog.Open a local file instead"),onClick:t[1]||(t[1]=o=>e.switchSaveLocation())},null,8,["label"])):z("",!0),l(A,{"no-caps":"",unelevated:"",label:e.t("common.Cancel"),onClick:t[2]||(t[2]=o=>e.cancel())},null,8,["label"])]),_:1},8,["align"])]),_:1})]),_:1},8,["modelValue"])}const mo=U(co,[["render",fo],["__file","LoginDialog.vue"]]),ho={__name:"ProfileDropdown",emits:["log-out"],setup(c,{expose:t,emit:a}){t();const e=T(),s=pe(),{t:i}=E(),o=J(),d=a;function f(){e.dispatch("logOut"),d("log-out")}async function p(){const g=i("profiledropdown.Are you sure you want to delete your account");if(await ge(i,g)){o.loading.show();try{await e.dispatch("deleteAccount"),e.dispatch("resetWheel");const y=i("profiledropdown.Your account and your saved wheels have been deleted");ie(y),d("log-out")}catch(y){B("DeleteAccountError",y),Y(i,y)}o.loading.hide()}}const m={store:e,router:s,t:i,$q:o,emit:d,signOut:f,deleteMyAccount:p,get useRouter(){return pe},get useStore(){return T},get useI18n(){return E},get useQuasar(){return J},get Messenger(){return ue},get Util(){return Ge}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},go=["src"];function _o(c,t,a,e,s,i){return _(),W(It,null,{label:n(()=>[r("img",{style:{"border-radius":"50%",height:"30px"},src:e.store.getters.userPhotoUrl,alt:""},null,8,go)]),default:n(()=>[l(Be,null,{default:n(()=>[l(F,null,{default:n(()=>[l(k,null,{default:n(()=>[w(u(e.t("profiledropdown.Signed in as",{name:e.store.getters.userDisplayName})),1)]),_:1})]),_:1}),l(Ne),H((_(),W(F,{clickable:"",onClick:t[0]||(t[0]=o=>e.signOut())},{default:n(()=>[l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("profiledropdown.Sign out")),1)]),_:1})]),_:1})]),_:1})),[[ne]]),l(F,{clickable:"",onClick:t[1]||(t[1]=o=>e.router.push("/export"))},{default:n(()=>[l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("profiledropdown.Export my data")),1)]),_:1})]),_:1})]),_:1}),H((_(),W(F,{clickable:"",onClick:t[2]||(t[2]=o=>e.deleteMyAccount())},{default:n(()=>[l(k,null,{default:n(()=>[l(ee,null,{default:n(()=>[w(u(e.t("profiledropdown.Delete my account")),1)]),_:1})]),_:1})]),_:1})),[[ne]])]),_:1})]),_:1})}const Je=U(ho,[["render",_o],["__file","ProfileDropdown.vue"]]),Ue="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",vo=se({__name:"WheelThumbnail",props:{path:{type:String,required:!0},size:{type:Number,default:200}},setup(c,{expose:t}){t();const a=T(),e=c,s=h(null),i=h(Ue);async function o(){if(i.value!==Ue)return;const p=await a.dispatch("getWheelThumbnail",e.path);i.value=URL.createObjectURL(p)}const{stop:d}=nl(s,([{isIntersecting:p}])=>{p&&(o(),d())}),f={emptyImage:Ue,store:a,props:e,img:s,url:i,loadImage:o,stop:d};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),po=["src","width","height"];function wo(c,t,a,e,s,i){return _(),x("img",{src:e.url,width:e.props.size,height:e.props.size,alt:"",ref:"img"},null,8,po)}const yo=U(vo,[["render",wo],["__file","WheelThumbnail.vue"]]),bo=se({__name:"WheelInfoCard",props:{wheel:{type:Object,required:!0}},emits:["open-wheel","update-wheel","delete-wheel"],setup(c,{expose:t,emit:a}){t();const e=c,s=a,{t:i,locale:o}=E(),d=D(()=>["spin-only","copyable","gallery"].includes(e.wheel.shareMode));async function f(){s("update-wheel",e.wheel.path,{shareMode:e.wheel.shareMode})}function p(){s("delete-wheel",e.wheel.path,e.wheel.wheelConfig.title)}const m={props:e,emit:s,t:i,locale:o,wheelIsPublic:d,updateShareMode:f,deleteWheel:p,WheelThumbnail:yo,get Util(){return Ge}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),ko={class:"text-bold"},So={key:0},Do={class:"col q-pr-sm"},Ao={key:0},Co={key:1},Lo={class:"col-shrink q-gutter-y-sm"},Wo={class:"text-right"};function Po(c,t,a,e,s,i){const o=Ie("router-link");return _(),W(Z,{flat:""},{default:n(()=>[l(Pl,null,{header:n(()=>[l(k,{avatar:""},{default:n(()=>[l(e.WheelThumbnail,{path:a.wheel.path,size:50},null,8,["path"])]),_:1}),l(k,null,{default:n(()=>[r("div",ko,u(a.wheel.wheelConfig.title),1),e.wheelIsPublic?(_(),x("div",So,[t[2]||(t[2]=w(" Link: ")),l(o,{to:`/${a.wheel.path}`},{default:n(()=>[w(u(a.wheel.path),1)]),_:1},8,["to"])])):z("",!0)]),_:1}),l(k,{side:""},{default:n(()=>[l(A,{icon:"fas fa-folder-open",label:e.t("common.Open"),unelevated:"","no-caps":"",color:"primary",onClick:t[0]||(t[0]=d=>e.emit("open-wheel",a.wheel.path))},null,8,["label"])]),_:1})]),default:n(()=>[l(Z,null,{default:n(()=>[l(O,{class:"row"},{default:n(()=>[r("div",Do,[a.wheel.wheelConfig.description?(_(),x("p",Ao,u(a.wheel.wheelConfig.description),1)):z("",!0),r("div",null,u(e.t("sharedialog.Created"))+": "+u(e.Util.getTimeAgo(a.wheel.created,e.locale)),1),r("div",null,u(e.t("sharedialog.Last viewed"))+": "+u(e.Util.getTimeAgo(a.wheel.lastRead,e.locale)),1),a.wheel.shareMode?(_(),x("div",Co,u(e.t("sharedialog.Visits"))+": "+u(a.wheel.readCount),1)):z("",!0)]),r("div",Lo,[l(Te,{label:e.t("sharedialog.Visibility"),modelValue:a.wheel.shareMode,"onUpdate:modelValue":[t[1]||(t[1]=d=>a.wheel.shareMode=d),e.updateShareMode],options:[{label:e.t("mywheelsdialog.Private"),value:"private"},{label:e.t("mywheelsdialog.Spin-only"),value:"spin-only"},{label:e.t("mywheelsdialog.Copyable"),value:"copyable"},{label:e.t("mywheelsdialog.Gallery"),value:"gallery"}],"emit-value":"","map-options":""},null,8,["label","modelValue","options"]),r("div",Wo,[l(A,{label:e.t("common.Delete"),icon:"far fa-trash-alt",unelevated:"","no-caps":"",color:"negative",onClick:e.deleteWheel},null,8,["label"])])])]),_:1})]),_:1})]),_:1})]),_:1})}const Eo=U(bo,[["render",Po],["__file","WheelInfoCard.vue"]]),xo=se({__name:"MyWheelsDialog",emits:["reset-wheel-rotation","reset-address-bar"],setup(c,{expose:t,emit:a}){const e=T(),s=J(),{t:i}=E(),o=a,d=h(!1),f=h([]),p=D(()=>f.value.length==0),m=h(""),g=D(()=>m.value.toLowerCase()),y=D(()=>f.value.filter(M=>!m.value||M.wheelConfig.title.toLowerCase().includes(g.value)));let v;async function S(){return await al(),L("Wheel","ShowOpenDialog"),await G(),m.value="",d.value=!0,new Promise(M=>v=M)}async function P(M){d.value=!1,v("open");const j=await e.dispatch("loadWheel",M);e.commit("setWheelConfig",j.wheelConfig),e.commit("clearWinners"),o("reset-wheel-rotation"),o("reset-address-bar"),L("Wheel","OpenWheel")}async function V(M,j){try{await e.dispatch("updateWheel",{path:M,...j})}catch(oe){B("UpdateWheelError",oe),Y(i,Le(oe))}}async function R(M,j){const oe=i("opendialog.Are you sure",{wheelTitle:be(j)});if(await ge(i,oe))try{L("Wheel","DeleteWheel"),f.value=f.value.filter(re=>re.path!==M),await e.dispatch("deleteWheel",M)}catch(re){B("DeleteWheelError",re),Y(i,Le(re))}}async function G(){try{s.loading.show(),f.value=await e.dispatch("loadMyWheels",{fields:"path,created,lastRead,readCount,shareMode,wheelConfig.title"})}catch(M){Y(i,Le(M)),B("LoadSavedWheelsError (My Wheels dialog)",M)}finally{s.loading.hide()}}function K(){d.value=!1,v("switch")}function q(){d.value=!1,v("cancel")}t({show:S});const I={store:e,$q:s,t:i,emit:o,displayDialog:d,myWheels:f,noWheels:p,filterString:m,lowerCaseFilterString:g,filteredWheels:y,get resolvePromise(){return v},set resolvePromise(M){v=M},show:S,openWheel:P,updateWheel:V,deleteWheel:R,loadMyWheels:G,switchOpenLocation:K,cancel:q,ProfileDropdown:Je,WheelInfoCard:Eo};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}}),To={class:"text-h6"},Vo={key:0},Io={key:1},Oo={style:{height:"50vh",overflow:"auto"}};function jo(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[2]||(t[2]=o=>e.displayDialog=o)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{class:"row items-center",style:{"background-color":"#00000020"}},{default:n(()=>[r("div",To,[t[3]||(t[3]=r("i",{class:"fa fa-folder-open"},null,-1)),w(" "+u(e.t("mywheelsdialog.My wheels")),1)]),l(ce),l(e.ProfileDropdown,{onLogOut:t[0]||(t[0]=o=>e.cancel())})]),_:1}),l(O,null,{default:n(()=>[e.noWheels?(_(),x("div",Vo,u(e.t("opendialog.No wheels found")),1)):(_(),x("div",Io,[e.myWheels.length>5?(_(),W(ae,{key:0,dense:"",filled:"",modelValue:e.filterString,"onUpdate:modelValue":t[1]||(t[1]=o=>e.filterString=o),placeholder:e.t("common.Search")},null,8,["modelValue","placeholder"])):z("",!0),r("div",Oo,[l(Ke,{name:"animated-list",tag:"ul",style:{"padding-left":"0"}},{default:n(()=>[(_(!0),x(he,null,ke(e.filteredWheels,o=>(_(),x("li",{key:o.path},[l(e.WheelInfoCard,{wheel:o,onOpenWheel:e.openWheel,onUpdateWheel:e.updateWheel,onDeleteWheel:e.deleteWheel},null,8,["wheel"])]))),128))]),_:1})])]))]),_:1}),l(le,{align:"between"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("opendialog.Open a local file instead"),onClick:e.switchOpenLocation},null,8,["label"]),l(A,{unelevated:"","no-caps":"",label:e.t("common.Cancel"),onClick:e.cancel},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Ro=U(xo,[["render",jo],["__file","MyWheelsDialog.vue"]]),Mo={__name:"OpenDialog",emits:["reset-wheel-rotation","reset-address-bar"],setup(c,{expose:t,emit:a}){const e=T(),s=J(),{t:i}=E(),o=a,d=h(!1),f=h([]),p=D(()=>f.value.length==0),m=h(""),g=D(()=>m.value.toLowerCase()),y=D(()=>f.value.filter(I=>!m.value||I.config.title.toLowerCase().includes(g.value)));let v;async function S(){return L("Wheel","ShowOpenDialog"),await R(),m.value="",d.value=!0,new Promise(I=>v=I)}async function P(I){d.value=!1,v("open");const M=await e.dispatch("loadSavedWheel",I);e.commit("setWheelConfig",M.wheelConfig),e.commit("clearWinners"),o("reset-wheel-rotation"),o("reset-address-bar"),L("Wheel","OpenWheel")}async function V(I,M){const j=i("opendialog.Are you sure",{wheelTitle:be(M)});if(await ge(i,j))try{L("Wheel","DeleteWheel"),f.value=f.value.filter(oe=>oe.path!=I),await e.dispatch("deleteWheel",I)}catch(oe){B("DeleteWheelError",oe),Y(i,oe)}}async function R(){try{s.loading.show(),f.value=await e.dispatch("getSavedWheels",{fields:"path,config.title"})}catch(I){Y(i,I),B("LoadSavedWheelsError (Open dialog)",I)}finally{s.loading.hide()}}function G(){d.value=!1,v("cancel")}function K(){d.value=!1,v("switch")}t({show:S});const q={store:e,$q:s,t:i,emit:o,displayDialog:d,savedWheels:f,noSavedWheels:p,filterString:m,lowerCaseFilterString:g,filteredWheels:y,get resolvePromise(){return v},set resolvePromise(I){v=I},show:S,openWheel:P,deleteWheel:V,loadSavedWheels:R,cancel:G,switchOpenLocation:K,ref:h,computed:D,get useStore(){return T},get useQuasar(){return J},get useI18n(){return E},get trackEvent(){return L},get trackException(){return B},get escapeHtml(){return be},ProfileDropdown:Je,get Messenger(){return ue}};return Object.defineProperty(q,"__isScriptSetup",{enumerable:!1,value:!0}),q}},Fo={class:"text-h6"},Uo={key:0},qo={key:1},No={style:{height:"50vh",overflow:"auto"}};function Bo(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[3]||(t[3]=o=>e.displayDialog=o)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{class:"row items-center",style:{"background-color":"#00000020"}},{default:n(()=>[r("div",Fo,[t[4]||(t[4]=r("i",{class:"fa fa-folder-open"},null,-1)),w(" "+u(e.t("opendialog.Open wheel")),1)]),l(ce),l(e.ProfileDropdown,{onLogOut:t[0]||(t[0]=o=>e.cancel())})]),_:1}),l(O,null,{default:n(()=>[e.noSavedWheels?(_(),x("div",Uo,u(e.t("opendialog.No wheels found")),1)):(_(),x("div",qo,[e.savedWheels.length>5?(_(),W(ae,{key:0,dense:"",filled:"",modelValue:e.filterString,"onUpdate:modelValue":t[1]||(t[1]=o=>e.filterString=o),placeholder:e.t("common.Search")},null,8,["modelValue","placeholder"])):z("",!0),r("div",No,[l(Ke,{name:"animated-list",tag:"q-list"},{default:n(()=>[(_(!0),x(he,null,ke(e.filteredWheels,o=>(_(),W(F,{key:o.config.title,class:"q-px-none"},{default:n(()=>[l(k,{side:""},{default:n(()=>[l(A,{flat:"",color:"primary",icon:"fa fa-folder-open",onClick:d=>e.openWheel(o.path)},null,8,["onClick"])]),_:2},1024),l(k,{onClick:d=>e.openWheel(o.path),style:{cursor:"pointer"}},{default:n(()=>[w(u(o.config.title),1)]),_:2},1032,["onClick"]),l(k,{side:""},{default:n(()=>[l(A,{icon:"far fa-trash-alt",flat:"",color:"negative",onClick:d=>e.deleteWheel(o.path,o.config.title)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]))]),_:1}),l(le,{align:"between"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("opendialog.Open a local file instead"),onClick:e.switchOpenLocation},null,8,["label"]),l(A,{unelevated:"","no-caps":"",label:e.t("common.Cancel"),onClick:t[2]||(t[2]=o=>e.cancel())},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const zo=U(Mo,[["render",Bo],["__file","OpenDialog.vue"]]),Qo={__name:"SaveCloudDialog",setup(c,{expose:t}){const a=T(),e=J(),{t:s}=E(),i=h(!1),o=h(null),d=h([]),f=D(()=>d.value.map(j=>({value:j.config.title,label:j.config.title}))),p=D(()=>a.getters.wheelConfig),m=h(""),g=h(""),y=h(""),v=D(()=>y.value!=m.value&&d.value.some(j=>j.config.title==m.value)),S=h(!1);let P;async function V(){return L("Wheel","ShowSaveDialog"),K(),m.value=p.value.title,y.value=p.value.title,g.value="",i.value=!0,new Promise(j=>P=j)}de(()=>g.value,j=>{m.value=j.value});async function R(){if(m.value)if(v.value){const j=s("savedialog.You are about to overwrite");await ge(s,j)&&G()}else G()}async function G(){e.loading.show();try{L("Wheel","SaveWheel"),a.commit("setWheelTitle",m.value),await a.dispatch("saveWheel",p.value.clone()),e.loading.hide();const j=s("savedialog.Wheel saved successfully",{wheelTitle:ve(m.value)});ie(j)}catch(j){e.loading.hide(),Y(s,j),B("SaveWheelError",j)}i.value=!1,P("save")}async function K(){try{S.value=!0,d.value=await a.dispatch("getSavedWheels",{fields:"config.title"})}catch(j){Y(s,j),B("LoadSavedWheelsError (Save dialog)",j)}finally{S.value=!1}}function q(){i.value=!1,P("cancel")}function I(){i.value=!1,P("switch")}t({show:V});const M={store:a,$q:e,t:s,displayDialog:i,saveAsField:o,savedWheels:d,existingWheels:f,wheelConfig:p,saveAsName:m,existingWheelTitle:g,originalWheelName:y,overwritingAnotherWheel:v,loadingSavedWheels:S,get resolvePromise(){return P},set resolvePromise(j){P=j},show:V,saveWheel:R,writeWheelToDatabase:G,loadSavedWheels:K,cancel:q,switchSaveLocation:I,ref:h,computed:D,watch:de,get useStore(){return T},get useQuasar(){return J},get useI18n(){return E},get trackEvent(){return L},get trackException(){return B},get removeHtml(){return ve},ProfileDropdown:Je,get Messenger(){return ue}};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}},Ho={class:"text-h6"},Go={class:"row q-gutter-md items-center"},Ko={class:"col-3"},Yo={class:"col"},Jo={class:"row q-gutter-md items-center"},Zo={class:"col-3"},Xo={class:"col"};function $o(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[5]||(t[5]=o=>e.displayDialog=o),onShow:t[6]||(t[6]=o=>e.saveAsField.select())},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{class:"row items-center",style:{"background-color":"#00000020"}},{default:n(()=>[r("div",Ho,[t[7]||(t[7]=r("i",{class:"fa fa-save"},null,-1)),w(" "+u(e.t("savedialog.Save wheel to the cloud")),1)]),l(ce),l(e.ProfileDropdown,{onLogOut:t[0]||(t[0]=o=>e.cancel())})]),_:1}),l(O,{class:"q-gutter-md"},{default:n(()=>[r("div",Go,[r("div",Ko,u(e.t("savedialog.Save as")),1),r("div",Yo,[l(ae,{modelValue:e.saveAsName,"onUpdate:modelValue":t[1]||(t[1]=o=>e.saveAsName=o),filled:"",dense:"",onKeyup:t[2]||(t[2]=Se(o=>e.saveWheel(),["native","enter"])),ref:"saveAsField",required:"",maxlength:"50"},null,8,["modelValue"])])]),r("div",Jo,[r("div",Zo,u(e.t("savedialog.Your existing wheels")),1),r("div",Xo,[l(Te,{filled:"",dense:"",label:e.t("savedialog.Select a wheel"),modelValue:e.existingWheelTitle,"onUpdate:modelValue":t[3]||(t[3]=o=>e.existingWheelTitle=o),options:e.existingWheels,"map-options":"",loading:e.loadingSavedWheels},null,8,["label","modelValue","options","loading"])])]),r("div",null,u(e.t("savedialog.You will always be able to access")),1),l(A,{outline:"","no-caps":"",color:"primary",label:e.t("savedialog.Save to a local file instead"),onClick:e.switchSaveLocation},null,8,["label"])]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("common.Cancel"),onClick:t[4]||(t[4]=o=>e.cancel())},null,8,["label"]),l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("common.Save"),onClick:e.saveWheel},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const en=U(Qo,[["render",$o],["__file","SaveCloudDialog.vue"]]),tn=se({__name:"SaveLocalDialog",setup(c,{expose:t}){const a=T(),{t:e}=E(),s=J(),i=h(!1),o=h(null),d=D(()=>a.getters.wheelConfig),f=h(""),p=s.platform.is.ios?".json":".wheel";let m;async function g(){return L("Wheel","ShowSaveLocalDialog"),f.value=d.value.title,i.value=!0,new Promise(V=>m=V)}async function y(){a.commit("setWheelTitle",f.value);try{await ql(new Blob([JSON.stringify(il(d.value.clone()))]),{fileName:`${d.value.title||"Untitled"}${p}`,extensions:[p],mimeTypes:["application/json"]});const V=e("savedialog.Wheel saved successfully",{wheelTitle:ve(d.value.title)});ie(V)}catch(V){if(V instanceof DOMException&&V.message.includes("abort"))return;B("SaveLocalError",V),Y(e,V)}i.value=!1,m("save")}function v(){i.value=!1,m("cancel")}function S(){i.value=!1,m("switch")}t({show:g});const P={store:a,t:e,$q:s,displayDialog:i,saveAsField:o,wheelConfig:d,saveAsName:f,fileExtension:p,get resolvePromise(){return m},set resolvePromise(V){m=V},show:g,saveWheel:y,cancel:v,switchSaveLocation:S};return Object.defineProperty(P,"__isScriptSetup",{enumerable:!1,value:!0}),P}}),ln={class:"text-h6"},on={class:"row items-center"},nn={class:"col-shrink q-mr-md q-mb-md"},an={class:"col-12 col-md-grow q-mb-md"};function sn(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[1]||(t[1]=o=>e.displayDialog=o),onShow:t[2]||(t[2]=o=>e.saveAsField.select())},{default:n(()=>[l(Z,null,{default:n(()=>[l(O,{class:"row items-center",style:{"background-color":"#00000020"}},{default:n(()=>[r("div",ln,[t[3]||(t[3]=r("i",{class:"fa fa-save"},null,-1)),w(" "+u(e.t("savedialog.Save to a local file")),1)])]),_:1}),l(O,null,{default:n(()=>[r("div",on,[r("div",nn,u(e.t("savedialog.File name")),1),r("div",an,[l(ae,{modelValue:e.saveAsName,"onUpdate:modelValue":t[0]||(t[0]=o=>e.saveAsName=o),filled:"",dense:"",onKeyup:Se(e.saveWheel,["native","enter"]),ref:"saveAsField",required:"",maxlength:"50",suffix:e.fileExtension},null,8,["modelValue","suffix"])])]),l(A,{outline:"","no-caps":"",color:"primary",label:e.t("savedialog.Save to the cloud instead"),onClick:e.switchSaveLocation},null,8,["label"])]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("common.Cancel"),onClick:e.cancel},null,8,["label"]),l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("common.Save"),onClick:e.saveWheel},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const rn=U(tn,[["render",sn],["__file","SaveLocalDialog.vue"]]),dn={__name:"ShareDialogInfo",setup(c,{expose:t}){const a=T(),e=J(),{t:s}=E(),i=h(!1);let o,d;async function f(){return L("Wheel","ShowShareDialog"),i.value=!0,new Promise((v,S)=>{o=v,d=S})}function p(){o({openMySharedWheels:!0,openShareSettings:!1}),i.value=!1}function m(){o({openMySharedWheels:!1,openShareSettings:!0}),i.value=!1}function g(){o({openMySharedWheels:!1,openShareSettings:!1}),i.value=!1}t({show:f});const y={store:a,$q:e,t:s,displayDialog:i,get resolvePromise(){return o},set resolvePromise(v){o=v},get rejectPromise(){return d},set rejectPromise(v){d=v},show:f,userClickedSeeMySharedWheels:p,userClickedContinue:m,cancel:g,ref:h,computed:D,watch:de,get useStore(){return T},get useQuasar(){return J},get useI18n(){return E},get trackEvent(){return L}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},cn={class:"text-h6"};function un(c,t,a,e,s,i){const o=Ie("router-link");return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[2]||(t[2]=d=>e.displayDialog=d)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{style:{"background-color":"#00000020"}},{default:n(()=>[r("div",cn,[t[3]||(t[3]=r("i",{class:"fa fa-share-alt"},null,-1)),w(" "+u(e.t("sharedialog.Shareable link")),1)])]),_:1}),l(O,{class:"q-gutter-md"},{default:n(()=>[r("div",null,u(e.t("sharedialog.If you continue")),1),r("div",null,u(e.t("sharedialog.This link will work for anyone")),1),r("div",null,u(e.t("sharedialog.We want this website to be safe place for everyone")),1),r("div",null,[l(o,{to:"/faq/terms"},{default:n(()=>[w(u(e.t("appInfo.Terms of service")),1)]),_:1})]),l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("sharedialog.See my shared wheels"),onClick:e.userClickedSeeMySharedWheels},null,8,["label"])]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("common.Cancel"),onClick:t[0]||(t[0]=d=>e.cancel())},null,8,["label"]),l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("common.Continue"),onClick:t[1]||(t[1]=d=>e.userClickedContinue())},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const fn=U(dn,[["render",un],["__file","ShareDialogInfo.vue"]]),mn={__name:"ShareDialogMySharedWheels",setup(c,{expose:t}){const a=T(),e=J(),{t:s,locale:i}=E(),o=h(!1),d=h([]),f=D(()=>d.value.length==0);async function p(){L("Wheel","ViewSharedWheelsAttempt"),await P(),L("Wheel","ViewSharedWheelsSuccess"),o.value=!0}function m(){o.value=!1}function g(R){return location.protocol+"//"+We(location.host,i.value,R)}function y(R){return We(location.host,i.value,R)}async function v(R){await navigator.clipboard.writeText(R);const G=s("sharedialog.Link copied to the clipboard");ie(G)}async function S(R){const G=s("opendialog.Are you sure",{wheelTitle:be(R)});if(await ge(s,G))try{d.value=d.value.filter(K=>K.path!=R),await a.dispatch("deleteWheel",R)}catch(K){B("DeleteSharedWheelError",K),Y(s,K)}}async function P(){try{e.loading.show(),await a.dispatch("userIsLoggedIn")||await a.dispatch("loginAnonymously"),d.value=await a.dispatch("getSharedWheels",{fields:"path,config.title,created,readCount"})}catch(R){Y(s,R),B("ViewSharedWheelsError",R)}finally{e.loading.hide()}}t({show:p});const V={store:a,$q:e,t:s,locale:i,displayDialog:o,sharedWheels:d,noSharedWheels:f,show:p,close:m,getWheelLink:g,getDisplayWheelLink:y,copyToClipboard:v,deleteWheel:S,loadSharedWheels:P,ref:h,computed:D,get useStore(){return T},get useQuasar(){return J},get useI18n(){return E},get trackEvent(){return L},get trackException(){return B},get getTimeAgo(){return sl},get localestring(){return rl},get escapeHtml(){return be},get getAbsoluteUrl(){return We},DialogCloseIcon:Oe,get Messenger(){return ue}};return Object.defineProperty(V,"__isScriptSetup",{enumerable:!1,value:!0}),V}},hn={class:"text-h6"},gn={key:0},_n={class:"text-left"},vn={class:"text-left"},pn={class:"text-left created-column"},wn={class:"text-right views-column"},yn={class:"break-long-words"},bn=["href"],kn={class:"copy-column"},Sn={class:"created-column"},Dn={class:"text-right views-column"},An={class:"delete-column"},Cn={key:0};function Ln(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[1]||(t[1]=o=>e.displayDialog=o),maximized:e.$q.platform.is.mobile,style:{"max-width":"900px"}},{default:n(()=>[l(Z,{style:{width:"900px"}},{default:n(()=>[l(O,{class:"row items-center",style:{"background-color":"#00000020"}},{default:n(()=>[r("div",hn,[t[2]||(t[2]=r("i",{class:"fa fa-share-alt"},null,-1)),w(" "+u(e.t("sharedialog.My shared wheels")),1)]),l(ce),l(e.DialogCloseIcon)]),_:1}),l(O,{style:{"max-height":"75vh",overflow:"auto"}},{default:n(()=>[l(Il,{flat:""},{default:n(()=>[r("thead",null,[e.noSharedWheels?z("",!0):(_(),x("tr",gn,[r("th",_n,u(e.t("common.Wheel title")),1),r("th",vn,u(e.t("sharedialog.Link")),1),t[3]||(t[3]=r("th",{class:"copy-column"},null,-1)),r("th",pn,u(e.t("sharedialog.Created")),1),r("th",wn,u(e.t("sharedialog.Visits")),1),t[4]||(t[4]=r("th",{class:"delete-column"},null,-1))]))]),l(Ke,{name:"animated-list",tag:"tbody"},{default:n(()=>[(_(!0),x(he,null,ke(e.sharedWheels,o=>(_(),x("tr",{key:o.path},[r("td",yn,u(o.config.title),1),r("td",null,[r("a",{href:e.getWheelLink(o.path)},u(e.getDisplayWheelLink(o.path)),9,bn)]),r("td",kn,[l(A,{icon:"far fa-clipboard",flat:"",round:"",dense:"",size:"sm",onClick:d=>e.copyToClipboard(e.getWheelLink(o.path))},null,8,["onClick"])]),r("td",Sn,u(e.getTimeAgo(o.created,e.locale)),1),r("td",Dn,u(e.localestring(o.readCount)),1),r("td",An,[l(A,{icon:"far fa-trash-alt",flat:"",round:"",dense:"",size:"sm",color:"negative",onClick:d=>e.deleteWheel(o.path)},null,8,["onClick"])])]))),128)),e.noSharedWheels?(_(),x("tr",Cn,[r("td",null,u(e.t("sharedialog.No wheels found")),1)])):z("",!0)]),_:1})]),_:1})]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("common.Close"),onClick:t[0]||(t[0]=o=>e.close())},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])}const Wn=U(mn,[["render",Ln],["__scopeId","data-v-37d1defd"],["__file","ShareDialogMySharedWheels.vue"]]),Pn={__name:"ShareDialogSettings",setup(c,{expose:t}){const a=T(),{t:e,locale:s}=E(),i=h(!1),o=h(null),d=h(),f=h(),p=h(!1),m=D({get:()=>a.getters.showTitle,set:q=>{a.commit("setShowTitle",q)}}),g=h("copyable");let y,v;async function S(){return d.value=a.getters.wheelTitle,f.value=a.getters.wheelDescription,g.value="copyable",i.value=!0,new Promise((q,I)=>{y=q,v=I})}async function P(){if(G())if(g.value==="gallery"){const q=e("sharedialog.You are about to publish your wheel to the public gallery");await ge(e,q)&&V()}else V()}function V(){a.commit("setWheelTitle",d.value),a.commit("setWheelDescription",f.value),y(g.value),i.value=!1}function R(){y(),i.value=!1}function G(){return o.value.validate(),!o.value.hasError}t({askUserForSettings:S});const K={store:a,t:e,locale:s,displayDialog:i,wheelTitleField:o,wheelTitle:d,wheelDescription:f,userIsAdmin:p,showTitle:m,shareMode:g,get resolvePromise(){return y},set resolvePromise(q){y=q},get rejectPromise(){return v},set rejectPromise(q){v=q},askUserForSettings:S,userClickedContinue:P,beginShare:V,cancel:R,validateForm:G,ref:h,computed:D,get useStore(){return T},get useI18n(){return E},get Messenger(){return ue}};return Object.defineProperty(K,"__isScriptSetup",{enumerable:!1,value:!0}),K}},En={class:"text-h6"},xn={class:"q-gutter-y-sm"},Tn={for:"wheelTitleField"},Vn={class:"q-gutter-y-sm"},In={class:"q-gutter-y-sm"},On={key:0,class:"q-gutter-y-sm"},jn={for:"wheelDescriptionField"};function Rn(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[10]||(t[10]=o=>e.displayDialog=o),onShow:t[11]||(t[11]=o=>e.wheelTitleField.select())},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{style:{"background-color":"#00000020"}},{default:n(()=>[r("div",En,[t[12]||(t[12]=r("i",{class:"fa fa-share-alt"},null,-1)),w(" "+u(e.t("sharedialog.Shareable link")),1)])]),_:1}),l(O,{class:"q-gutter-y-md"},{default:n(()=>[r("div",xn,[r("label",Tn,u(e.t("common.Wheel title")),1),l(ae,{id:"wheelTitleField",modelValue:e.wheelTitle,"onUpdate:modelValue":t[0]||(t[0]=o=>e.wheelTitle=o),filled:"",dense:"","bottom-slots":"",rules:[o=>o.length>0||e.t("sharedialog.Your wheel must have a title")],ref:"wheelTitleField",maxlength:"50",onKeyup:t[1]||(t[1]=Se(o=>e.userClickedContinue(),["native","enter"]))},null,8,["modelValue","rules"]),l(Tt,{modelValue:e.showTitle,"onUpdate:modelValue":t[2]||(t[2]=o=>e.showTitle=o)},{default:n(()=>[w(u(e.t("sharedialog.Show title to people")),1)]),_:1},8,["modelValue"])]),r("div",Vn,[r("div",null,u(e.t("sharedialog.Visibility")),1),r("div",In,[l(me,{modelValue:e.shareMode,"onUpdate:modelValue":t[3]||(t[3]=o=>e.shareMode=o),dense:"",val:"spin-only",label:e.t("sharedialog.Anyone with the link can spin the wheel")},null,8,["modelValue","label"]),l(me,{modelValue:e.shareMode,"onUpdate:modelValue":t[4]||(t[4]=o=>e.shareMode=o),dense:"",val:"copyable",label:e.t("sharedialog.Anyone with the link can spin and copy the wheel")},null,8,["modelValue","label"]),l(me,{modelValue:e.shareMode,"onUpdate:modelValue":t[5]||(t[5]=o=>e.shareMode=o),dense:"",val:"gallery",label:e.t("sharedialog.This wheel would be useful")},null,8,["modelValue","label"]),e.userIsAdmin?(_(),W(me,{key:0,modelValue:e.shareMode,"onUpdate:modelValue":t[6]||(t[6]=o=>e.shareMode=o),dense:"",val:"live",label:e.t("sharedialog.Broadcast spins and edits")},null,8,["modelValue","label"])):z("",!0)])]),e.shareMode=="gallery"?(_(),x("div",On,[r("label",jn,u(e.t("common.Wheel description")),1),l(ae,{type:"textarea",modelValue:e.wheelDescription,"onUpdate:modelValue":t[7]||(t[7]=o=>e.wheelDescription=o),filled:"",dense:"",maxlength:"200",rows:"3",id:"wheelDescriptionField"},null,8,["modelValue"])])):z("",!0)]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("common.Cancel"),onClick:t[8]||(t[8]=o=>e.cancel())},null,8,["label"]),l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("common.Continue"),onClick:t[9]||(t[9]=o=>e.userClickedContinue())},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Mn=U(Pn,[["render",Rn],["__file","ShareDialogSettings.vue"]]),Fn={__name:"ShareDialogLink",setup(c,{expose:t}){const a=T(),e=J(),{t:s,locale:i}=E(),o=h(!1),d=h("");async function f(y,v,S){e.loading.show();try{await a.dispatch("userIsLoggedIn")||await a.dispatch("loginAnonymously");const P=window.location.host,V=await a.dispatch("shareWheel",{wheelConfig:a.getters.wheelConfig.clone(),shareMode:y,editPermissions:v,password:S}),R=We(P,i.value,V);d.value=window.location.protocol+"//"+R,L("Wheel","CreateSharableLink"),o.value=!0}catch(P){if(P.toString().includes("family")){const V=s("sharedialog.The wheel includes text that");ze(s,V)}else Y(s,P);B("CreateSharableLinkError",P)}e.loading.hide()}async function p(){await navigator.clipboard.writeText(d.value),L("Wheel","CopySharableLink");const y=s("sharedialog.Link copied to the clipboard");ie(y)}function m(){o.value=!1}t({share:f});const g={store:a,$q:e,t:s,locale:i,displayDialog:o,sharableLink:d,share:f,copyLink:p,close:m,ref:h,get useStore(){return T},get useQuasar(){return J},get useI18n(){return E},get Messenger(){return ue},get trackEvent(){return L},get trackException(){return B},get Locales(){return Ve}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},Un={class:"text-h6"},qn={class:"row q-gutter-sm"},Nn={class:"col-grow"},Bn={class:"col-shrink"};function zn(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[2]||(t[2]=o=>e.displayDialog=o)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{style:{"background-color":"#00000020"}},{default:n(()=>[r("div",Un,[t[3]||(t[3]=r("i",{class:"fa fa-share-alt"},null,-1)),w(" "+u(e.t("sharedialog.Shareable link")),1)])]),_:1}),l(O,{class:"q-gutter-y-md"},{default:n(()=>[r("div",null,u(e.t("sharedialog.Link to this wheel")),1),r("div",qn,[r("div",Nn,[l(ae,{id:"sharableLinkText",modelValue:e.sharableLink,"onUpdate:modelValue":t[0]||(t[0]=o=>e.sharableLink=o),readonly:"",dense:"",standout:"",style:{"min-width":"300px"}},null,8,["modelValue"])]),r("div",Bn,[l(A,{unelevated:"","no-caps":"",color:"positive",label:e.t("sharedialog.Copy link"),onClick:e.copyLink},null,8,["label"])])]),r("div",null,u(e.t("sharedialog.This link will work for anyone")),1)]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("common.Close"),onClick:t[1]||(t[1]=o=>e.close())},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Qn=U(Fn,[["render",zn],["__file","ShareDialogLink.vue"]]),Hn={__name:"LiveWheelPermissionDialog",setup(c,{expose:t}){const a=T(),{t:e,locale:s}=E(),i=h(!1),o=h("owner"),d=h("");let f,p;async function m(){return o.value="owner",d.value="",i.value=!0,new Promise((S,P)=>{f=S,p=P})}function g(){f({editPermissions:o.value,password:d.value}),i.value=!1}function y(){f(),i.value=!1}t({show:m});const v={store:a,t:e,locale:s,displayDialog:i,editPermissions:o,wheelPassword:d,get resolvePromise(){return f},set resolvePromise(S){f=S},get rejectPromise(){return p},set rejectPromise(S){p=S},show:m,ok:g,cancel:y,ref:h,get useStore(){return T},get useI18n(){return E}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},Gn={class:"text-h6"},Kn={class:"q-gutter-y-sm"},Yn={class:"q-gutter-y-sm"},Jn={class:"row"},Zn={class:"row q-gutter-x-md"},Xn={class:"row"};function $n(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[6]||(t[6]=o=>e.displayDialog=o),onShow:t[7]||(t[7]=o=>c.wheelTitleField.select())},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{style:{"background-color":"#00000020"}},{default:n(()=>[r("div",Gn,[t[8]||(t[8]=r("i",{class:"fa fa-share-alt"},null,-1)),w(" "+u(e.t("sharedialog.Shareable link")),1)])]),_:1}),l(O,{class:"q-gutter-y-md"},{default:n(()=>[r("div",Kn,[r("div",null,u(e.t("sharedialog.Who can spin and edit the wheel")),1),r("div",Yn,[r("div",Jn,[l(me,{modelValue:e.editPermissions,"onUpdate:modelValue":t[0]||(t[0]=o=>e.editPermissions=o),dense:"",val:"owner",label:e.t("sharedialog.Only me")},null,8,["modelValue","label"])]),r("div",Zn,[l(me,{modelValue:e.editPermissions,"onUpdate:modelValue":t[1]||(t[1]=o=>e.editPermissions=o),dense:"",val:"password",label:e.t("sharedialog.Anyone who knows the password")},null,8,["modelValue","label"]),l(ae,{type:"password",modelValue:e.wheelPassword,"onUpdate:modelValue":t[2]||(t[2]=o=>e.wheelPassword=o),filled:"",dense:"",maxlength:"50",placeholder:e.t("sharedialog.Password"),id:"wheelPasswordField",disable:e.editPermissions!=="password"},null,8,["modelValue","placeholder","disable"])]),r("div",Xn,[l(me,{modelValue:e.editPermissions,"onUpdate:modelValue":t[3]||(t[3]=o=>e.editPermissions=o),dense:"",val:"anyone",label:e.t("sharedialog.Anyone with the link")},null,8,["modelValue","label"])])])])]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("common.Cancel"),onClick:t[4]||(t[4]=o=>e.cancel())},null,8,["label"]),l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("common.Continue"),onClick:t[5]||(t[5]=o=>e.ok())},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ea=U(Hn,[["render",$n],["__file","LiveWheelPermissionDialog.vue"]]),ta={__name:"SheetLoginDialog",setup(c,{expose:t}){const a=T(),e=J(),{t:s,locale:i}=E(),o=h(!1);let d,f;async function p(){return L("Wheel","ShowSpreadsheetDialog"),o.value=!0,new Promise((v,S)=>{d=v,f=S})}async function m(){o.value=!1;try{L("Wheel","LoginForSheetAttempt","");const v=await a.dispatch("logInToSheets",i);L("Wheel","LoginForSheetSuccess",""),d(v)}catch(v){B("LoginForSheetError",v),L("Wheel","LoginForSheetFailure",v.toString()),Y(s,v),f()}}function g(){o.value=!1,d()}t({askUserToLogIn:p});const y={store:a,$q:e,t:s,locale:i,displayDialog:o,get resolvePromise(){return d},set resolvePromise(v){d=v},get rejectPromise(){return f},set rejectPromise(v){f=v},askUserToLogIn:p,logIn:m,cancel:g,ref:h,get useStore(){return T},get useQuasar(){return J},get useI18n(){return E},get Messenger(){return ue},get trackEvent(){return L},get trackException(){return B}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},la={class:"text-h6"},oa={style:{"margin-top":"10px"}},na={style:{"margin-top":"10px",color:"#999"}};function aa(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[2]||(t[2]=o=>e.displayDialog=o)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{style:{"background-color":"#00000020"}},{default:n(()=>[r("div",la,[t[3]||(t[3]=r("i",{class:"fa fa-link"},null,-1)),w(" "+u(e.t("common.Link Google Spreadsheet")),1)])]),_:1}),l(O,null,{default:n(()=>[r("div",null,u(e.t("sheetdialog.When you link a spreadsheet")),1),r("p",oa,u(e.t("sheetdialog.To import sheets")),1),r("p",na,u(e.t("common.If you dont see a Google login button below")),1)]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"",label:e.t("common.Cancel"),onClick:t[0]||(t[0]=o=>e.cancel())},null,8,["label"]),r("input",{type:"image",style:{height:"40px"},alt:"Sign in with Google",src:"/images/btn_google_signin_dark_normal_web@2x.png",onClick:t[1]||(t[1]=o=>e.logIn())})]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ia=U(ta,[["render",aa],["__file","SheetLoginDialog.vue"]]);async function jt(c){return(await gapi.client.sheets.spreadsheets.get({spreadsheetId:c})).result.properties.title}async function Rt(c){return(await gapi.client.sheets.spreadsheets.get({spreadsheetId:c})).result.sheets.map(a=>a.properties.title)}async function Mt(c,t){const a=await gapi.client.sheets.spreadsheets.values.get({spreadsheetId:c,range:t}),e=[],s=a.result;if(s.values&&s.values.length>0){const i=Ut(s.values)[0];for(let o=0;o<i.length&&o<27;o++)e.push({id:String.fromCharCode(o+65),name:i[o]})}return e}async function Ft(c,t,a,e){const s=await gapi.client.sheets.spreadsheets.values.get({spreadsheetId:c,range:t+"!"+a+":"+a}),i=[];if(s.result.values&&s.result.values.length>0){const o=Ut(s.result.values);for(let d=0;d<o.length;d++)if(!(d==0&&e)){const f=o[d];typeof f[0]!="undefined"&&i.push(f[0])}}return i}function Ut(c){return c.filter(t=>t.length>0)}const qt=Object.freeze(Object.defineProperty({__proto__:null,getColumns:Mt,getEntries:Ft,getTabNames:Rt,getTitle:jt},Symbol.toStringTag,{value:"Module"})),sa={__name:"SheetConfigDialog",setup(c,{expose:t}){const a=T(),e=J(),{t:s,locale:i}=E(),o=h(!1),d=h(""),f=h(""),p=h(null),m=h(null),g=h([]),y=h([]),v=h(!0);let S,P;async function V(q){return o.value=!0,d.value=q,new Promise(async(I,M)=>{S=I,P=M,f.value="",p.value="",g.value=[],m.value="",y.value=[],f.value=await jt(d.value),g.value=await Rt(d.value),g.value.length>0&&(p.value=g.value[0])})}de(()=>p.value,async q=>{y.value=[],m.value="";const I=await Mt(d.value,q);y.value=I.map(M=>({value:M.id,label:M.name})),y.value.length>0&&(m.value=y.value[0].value)});function R(){L("Wheel","LinkSpreadsheet"),o.value=!1,S({tab:p.value,column:m.value,skipFirstRow:v.value})}function G(){o.value=!1,S({tab:"",column:"",skipFirstRow:!1})}t({askUserToConfigure:V});const K={store:a,$q:e,t:s,locale:i,displayDialog:o,sheetId:d,sheetTitle:f,selectedTab:p,selectedColumn:m,tabOptions:g,columnOptions:y,skipFirstRow:v,get resolvePromise(){return S},set resolvePromise(q){S=q},get rejectPromise(){return P},set rejectPromise(q){P=q},askUserToConfigure:V,startImport:R,cancel:G,ref:h,watch:de,get useStore(){return T},get useQuasar(){return J},get useI18n(){return E},get trackEvent(){return L},get SheetGateway(){return qt}};return Object.defineProperty(K,"__isScriptSetup",{enumerable:!1,value:!0}),K}},ra={class:"text-h6"},da={class:"row items-center"},ca={class:"col-4"},ua={class:"col"},fa={class:"row items-center"},ma={class:"col-4"},ha={class:"col"},ga={class:"row items-center"},_a={class:"col-4"},va={class:"col"},pa={class:"row items-center"},wa={class:"col-4"},ya={class:"col"};function ba(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[6]||(t[6]=o=>e.displayDialog=o)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{style:{"background-color":"#00000020"}},{default:n(()=>[r("div",ra,[t[7]||(t[7]=r("i",{class:"fa fa-link"},null,-1)),w(" "+u(e.t("common.Link Google Spreadsheet")),1)])]),_:1}),l(O,{class:"q-gutter-md"},{default:n(()=>[r("div",da,[r("div",ca,u(e.t("sheetdialog.Selected spreadsheet")),1),r("div",ua,[l(ae,{dense:"",filled:"",modelValue:e.sheetTitle,"onUpdate:modelValue":t[0]||(t[0]=o=>e.sheetTitle=o),readonly:""},null,8,["modelValue"])])]),r("div",fa,[r("div",ma,u(e.t("sheetdialog.Tab")),1),r("div",ha,[l(Te,{modelValue:e.selectedTab,"onUpdate:modelValue":t[1]||(t[1]=o=>e.selectedTab=o),options:e.tabOptions,filled:"",dense:""},null,8,["modelValue","options"])])]),r("div",ga,[r("div",_a,u(e.t("sheetdialog.Column")),1),r("div",va,[l(Te,{modelValue:e.selectedColumn,"onUpdate:modelValue":t[2]||(t[2]=o=>e.selectedColumn=o),options:e.columnOptions,filled:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),r("div",pa,[r("div",wa,u(e.t("sheetdialog.First row")),1),r("div",ya,[l(Tt,{modelValue:e.skipFirstRow,"onUpdate:modelValue":t[3]||(t[3]=o=>e.skipFirstRow=o),label:e.t("sheetdialog.Is a header and should not be imported")},null,8,["modelValue","label"])])])]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"",label:e.t("common.Cancel"),onClick:t[4]||(t[4]=o=>e.cancel())},null,8,["label"]),l(A,{unelevated:"",color:"primary",label:e.t("common.OK"),onClick:t[5]||(t[5]=o=>e.startImport())},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ka=U(sa,[["render",ba],["__file","SheetConfigDialog.vue"]]),Sa=se({__name:"AccountDialog",setup(c,{expose:t}){const a=T(),e=pe(),{t:s}=E(),i=J(),o=h(!1);function d(){L("Wheel","ShowAccountDialog"),o.value=!0}function f(){a.dispatch("logOut"),o.value=!1}async function p(){const g=s("profiledropdown.Are you sure you want to delete your account");if(await ge(s,g)){i.loading.show();try{L("Wheel","DeleteAccount"),await a.dispatch("deleteAccount"),a.dispatch("resetWheel"),ie(s("profiledropdown.Your account and your saved wheels have been deleted"))}catch(y){const v=Le(y);Y(s,v),B("DeleteAccountError",v)}i.loading.hide(),o.value=!1}}t({show:d});const m={store:a,router:e,t:s,$q:i,displayDialog:o,show:d,logOut:f,confirmAndDelete:p,DialogCloseIcon:Oe};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),Da={class:"text-h6"},Aa={class:"row items-center q-gutter-x-md"},Ca={class:"col-shrink"},La=["src"],Wa={class:"col text-h5"},Pa={class:"col-shrink"},Ea={class:"q-gutter-x-md"};function xa(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[4]||(t[4]=o=>e.displayDialog=o)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{class:"row items-center",style:{"background-color":"#00000020"}},{default:n(()=>[r("div",Da,[t[5]||(t[5]=r("i",{class:"fas fa-user-alt"},null,-1)),w(" "+u(e.t("common.My account")),1)]),l(ce),l(e.DialogCloseIcon)]),_:1}),l(O,{class:"q-gutter-y-md"},{default:n(()=>[r("div",Aa,[r("div",Ca,[l(xt,{size:"64px"},{default:n(()=>[r("img",{src:e.store.getters.userPhotoUrl,alt:""},null,8,La)]),_:1})]),r("div",Wa,u(e.t("profiledropdown.Signed in as",{name:e.store.getters.userDisplayName})),1),r("div",Pa,[l(A,{unelevated:"","no-caps":"",color:"warning","text-color":"black",label:e.t("profiledropdown.Sign out"),onClick:t[0]||(t[0]=o=>e.logOut())},null,8,["label"])])]),r("div",Ea,[l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("profiledropdown.Export my data"),onClick:t[1]||(t[1]=o=>e.router.push("/export"))},null,8,["label"]),l(A,{unelevated:"","no-caps":"",color:"negative",label:e.t("profiledropdown.Delete my account"),onClick:t[2]||(t[2]=o=>e.confirmAndDelete())},null,8,["label"])])]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("common.Close"),onClick:t[3]||(t[3]=o=>e.displayDialog=!1)},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Ta=U(Sa,[["render",xa],["__file","AccountDialog.vue"]]),Va={__name:"LanguageDialog",emits:["language-changed"],setup(c,{expose:t,emit:a}){const{t:e}=E(),s=a,i=h(!1),o=h([]),d=h([]),f=h(""),p=D(()=>f.value.toLowerCase()),m=D(()=>o.value.filter(S=>!f.value||S.humanName.toLowerCase().includes(p.value)));async function g(){L("Wheel","ShowLanguageDialog"),f.value="",i.value=!0,o.value=He(),d.value=_t(navigator.languages);try{const S=await dl(),P=[...navigator.languages,...S];d.value=_t(P)}catch(S){B("GetLangsForMyAddressError",S)}}function y(S){L("Wheel","ChangeLanguageFromNewDialog"),s("language-changed",S),i.value=!1}t({show:g});const v={t:e,emit:s,displayDialog:i,locales:o,recommendedLocales:d,filterString:f,lowerCaseFilterString:p,filteredLocales:m,show:g,changeLanguage:y,ref:h,computed:D,get useI18n(){return E},get Locales(){return Ve},get ServerFunctions(){return cl},get trackEvent(){return L},get trackException(){return B},DialogCloseIcon:Oe};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},Ia={class:"text-h6"},Oa={class:"text-h6",style:{"margin-top":"16px"}},ja={class:"q-py-md"},Ra={class:"row items-start q-gutter-md"},Ma=["onClick"],Fa={class:"text-h6",style:{"margin-top":"16px"}},Ua={class:"q-py-md",style:{height:"40vh",overflow:"auto"}},qa={class:"row items-start q-gutter-md"},Na=["onClick"];function Ba(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[2]||(t[2]=o=>e.displayDialog=o)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{class:"row items-center",style:{"background-color":"#00000020"}},{default:n(()=>[r("div",Ia,[t[3]||(t[3]=r("i",{class:"fas fa-globe"},null,-1)),w(" "+u(e.t("toolbar.Language")),1)]),l(ce),l(e.DialogCloseIcon)]),_:1}),l(O,null,{default:n(()=>[r("div",Oa,u(e.t("languagedialog.Suggested languages")),1),r("div",ja,[r("div",Ra,[(_(!0),x(he,null,ke(e.recommendedLocales,o=>(_(),x("div",{key:"locale.name",onClick:d=>e.changeLanguage(o.name),class:"language"},u(o.humanName),9,Ma))),128))])]),r("div",Fa,u(e.t("languagedialog.All languages")),1),l(ae,{dense:"",filled:"",modelValue:e.filterString,"onUpdate:modelValue":t[0]||(t[0]=o=>e.filterString=o),placeholder:e.t("common.Search"),style:{"margin-top":"16px"}},null,8,["modelValue","placeholder"]),r("div",Ua,[r("div",qa,[(_(!0),x(he,null,ke(e.filteredLocales,o=>(_(),x("div",{key:"locale.name",onClick:d=>e.changeLanguage(o.name),class:"language"},u(o.humanName),9,Na))),128))])])]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("common.Close"),onClick:t[1]||(t[1]=o=>e.displayDialog=!1)},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const za=U(Va,[["render",Ba],["__scopeId","data-v-d9c87dc0"],["__file","LanguageDialog.vue"]]),Qa={__name:"TitleAndDescriptionDialog",setup(c,{expose:t}){const a=T(),{t:e}=E(),s=h(!1),i=D(()=>a.getters.wheelConfig),o=h(""),d=h("");function f(){L("Wheel","ShowTitleAndDescriptionDialog"),o.value=i.value.title,d.value=i.value.description,s.value=!0}function p(){L("Wheel","SetTitleAndDescription"),a.commit("setWheelTitle",o.value),a.commit("setWheelDescription",d.value),m()}function m(){s.value=!1}function g(v){v.preventDefault(),p()}t({show:f});const y={store:a,t:e,displayDialog:s,wheelConfig:i,wheelTitle:o,wheelDescription:d,show:f,setTitleAndDescription:p,close:m,enterPressed:g,ref:h,computed:D,get useStore(){return T},get useI18n(){return E},get trackEvent(){return L}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}};function Ha(c,t,a,e,s,i){return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[4]||(t[4]=o=>e.displayDialog=o)},{default:n(()=>[l(Z,{style:{width:"640px"}},{default:n(()=>[l(O,{class:"text-h6"},{default:n(()=>[t[5]||(t[5]=r("i",{class:"fas fa-pencil-alt"},null,-1)),w(" "+u(e.t("common.Edit title and description")),1)]),_:1}),l(O,{class:"q-gutter-y-md"},{default:n(()=>[l(ae,{autofocus:"",filled:"",dense:"",modelValue:e.wheelTitle,"onUpdate:modelValue":t[0]||(t[0]=o=>e.wheelTitle=o),ref:"wheelTitleInput",onKeydown:Se(e.enterPressed,["native","enter"]),maxlength:"50",placeholder:e.t("common.Wheel title")},null,8,["modelValue","placeholder"]),l(ae,{filled:"",dense:"",type:"textarea",modelValue:e.wheelDescription,"onUpdate:modelValue":t[1]||(t[1]=o=>e.wheelDescription=o),onKeydown:Se(e.enterPressed,["native","enter"]),maxlength:"200",placeholder:e.t("common.Wheel description")},null,8,["modelValue","placeholder"])]),_:1}),l(le,{align:"right"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",label:e.t("common.Cancel"),onClick:t[2]||(t[2]=o=>e.close())},null,8,["label"]),l(A,{unelevated:"","no-caps":"",color:"primary",label:e.t("common.OK"),onClick:t[3]||(t[3]=o=>e.setTitleAndDescription())},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Ga=U(Qa,[["render",Ha],["__file","TitleAndDescriptionDialog.vue"]]),Ka={__name:"SheetDataPump",setup(c,{expose:t}){const a=T(),{t:e}=E();let s=0;function i(m,g,y,v){s=new Date().getTime(),a.commit("linkSheet"),o(m,g,y,v)}async function o(m,g,y,v){if(d()||!a.getters.sheetLinked){a.commit("unlinkSheet");return}try{const P=(await Ft(m,g,y,v)).map(G=>ve(G)),{additions:V,removals:R}=vt(a.getters.wheelConfig.entries.map(G=>G.text),P);f(V),a.commit("appendTextEntries",V),a.commit("removeTextEntries",R),setTimeout(()=>o(m,g,y,v),5e3)}catch(S){a.commit("unlinkSheet"),B("ImportDataFromSpreadsheetError",S),Y(e,S)}}function d(){return new Date().getTime()-s>36e5}function f(m){if(m.length>2){const g=e("sheetdialog.entries added",{count:m.length});ie(g)}else m.forEach(g=>{const y=e("sheetdialog.added",{entry:ve(g)});ie(y)})}t({start:i});const p={store:a,t:e,get sheetLinkedAtMs(){return s},set sheetLinkedAtMs(m){s=m},start:i,importSheet:o,linkHasTimedOut:d,notifyUserOfNewEntries:f,get useStore(){return T},get useI18n(){return E},get Messenger(){return ue},get trackException(){return B},get removeHtml(){return ve},get getArrayDiff(){return vt},get SheetGateway(){return qt}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}};function Ya(c,t,a,e,s,i){return null}const Ja=U(Ka,[["render",Ya],["__file","SheetDataPump.vue"]]),Za={__name:"YearlyStatsCounter",props:{title:String,increment:Number,fps:Number},setup(c,{expose:t}){t();const a=c,e=h(0),s=h(""),i=h(!0);pt(()=>{const d=new Date(new Date().getFullYear(),0,1),f=new Date;e.value=(f-d)/1e3*a.increment,s.value=Math.round(e.value).toLocaleString(),i.value=!i.value},1e3/a.fps,{immediateCallback:!0});const o={props:a,number:e,formattedNumber:s,displayFirstDiv:i,ref:h,get useIntervalFn(){return pt}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},Xa={style:{height:"4em"}},$a={key:0,class:"text-h3",style:{position:"absolute",color:"#34a853"}},ei={key:0,class:"text-h3",style:{position:"absolute",color:"#34a853"}};function ti(c,t,a,e,s,i){return _(),x("div",Xa,[w(u(a.title)+" ",1),l(wt,{name:"fade",mode:"in-out"},{default:n(()=>[e.displayFirstDiv?(_(),x("p",$a,u(e.formattedNumber),1)):z("",!0)]),_:1}),l(wt,{name:"fade",mode:"in-out"},{default:n(()=>[e.displayFirstDiv?z("",!0):(_(),x("p",ei,u(e.formattedNumber),1))]),_:1})])}const li=U(Za,[["render",ti],["__scopeId","data-v-9a50a4a0"],["__file","YearlyStatsCounter.vue"]]),oi=se({__name:"AboutCards",setup(c,{expose:t}){t();const e={store:T(),AboutCard:jl,YearlyStatsCounter:li};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),ni={class:"q-pa-md about-card-row"},ai={class:"about-card-column"},ii={class:"about-card-column"},si={class:"about-card-column"};function ri(c,t,a,e,s,i){const o=Ie("router-link");return _(),x("div",ni,[r("div",ai,[l(e.AboutCard,null,{header:n(()=>t[0]||(t[0]=[w(" What is the wheel spinner for? ")])),main:n(()=>[t[8]||(t[8]=w(" Every day we hear from people who use our website in new ways: ")),r("ul",null,[r("li",null,[t[2]||(t[2]=w(" Random name picker in the classroom: pick which student will answer the next question. ")),l(o,{to:"/how-to-use-in-the-classroom"},{default:n(()=>t[1]||(t[1]=[w(" How to use it in the classroom ")])),_:1})]),t[3]||(t[3]=r("li",null," If you are a retailer, spin the wheel to pick which loyal customer will get the monthly giveaway. ",-1)),t[4]||(t[4]=r("li",null," When you give a presentation, use the wheel spinner to pick a lucky winner among the attendees who turned in the survey. ",-1)),t[5]||(t[5]=r("li",null," Random name picker at work: in your daily standup meeting at work, randomize who speaks first. ",-1)),t[6]||(t[6]=r("li",null," If you are overwhelmed by your to do items, put them on a wheel and spin to find which one to start with. ",-1)),t[7]||(t[7]=r("li",null," If you can't agree on what to have for dinner, put the alternatives on the wheel and spin. ",-1))])]),_:1}),l(e.AboutCard,null,{header:n(()=>t[9]||(t[9]=[w(" Does it use renewable energy? ")])),main:n(()=>[t[11]||(t[11]=r("p",null," We are proud to share that 100% of the electricity that powers our servers is renewable, and 93% comes from carbon-free energy sources. ",-1)),r("p",null,[l(o,{to:"/faq/sustainability"},{default:n(()=>t[10]||(t[10]=[w("Sustainability")])),_:1})])]),_:1})]),r("div",ii,[l(e.AboutCard,null,{header:n(()=>t[12]||(t[12]=[w(" How to use the wheel spinner ")])),main:n(()=>[r("p",null,[t[14]||(t[14]=w(" It's easy: type in your entries in the textbox to the right of the wheel, then click the wheel to spin it and get a random winner. To make the wheel your own by customizing the colors, sounds, and spin time, click ")),l(Ol,{color:"primary"},{default:n(()=>t[13]||(t[13]=[r("i",{class:"fas fa-palette"},null,-1),w("Customize")])),_:1}),t[15]||(t[15]=w(" at the top of the page. "))]),r("p",null,[l(o,{to:"/user-reviews-and-tutorials"},{default:n(()=>t[16]||(t[16]=[w(" Video reviews and tutorials by users ")])),_:1})])]),_:1}),l(e.AboutCard,null,{header:n(()=>[w(" Activity in "+u(new Date().getFullYear()),1)]),main:n(()=>[l(e.YearlyStatsCounter,{title:"Wheel spins",increment:e.store.getters.spinsPerSecond,fps:.333333},null,8,["increment"]),t[17]||(t[17]=r("br",null,null,-1)),l(e.YearlyStatsCounter,{title:"Hours of spinning",increment:e.store.getters.hoursSpunPerSecond,fps:e.store.getters.hoursSpunPerSecond},null,8,["increment","fps"]),t[18]||(t[18]=r("br",null,null,-1))]),_:1})]),r("div",si,[l(e.AboutCard,null,{header:n(()=>t[19]||(t[19]=[w(" Is my data private? ")])),main:n(()=>[t[21]||(t[21]=r("p",null," We are committed to protecting and respecting your privacy and the security of your data. We comply with GDPR, CCPA, SB 190, SB 1392, and we closely monitor changes to them. We follow industry best practices for data encryption and backups. ",-1)),r("p",null,[l(o,{to:"/privacy-policy"},{default:n(()=>t[20]||(t[20]=[w(" How we safeguard your privacy ")])),_:1})])]),_:1}),l(e.AboutCard,null,{header:n(()=>t[22]||(t[22]=[w(" Can the wheel be rigged? ")])),main:n(()=>[t[25]||(t[25]=r("p",null," There is no functionality to determine which entry will win ahead of time. When you click the wheel, it accelerates for exactly one second, then it is set to a random rotation between 0 and 360 degrees, and finally it decelerates to a stop. The setting of a random rotation is not visible to the naked eye as it happens when the wheel is spinning quite fast. ",-1)),r("p",null,[l(o,{to:"/faq/randomness"},{default:n(()=>t[23]||(t[23]=[w("Randomness of the wheel")])),_:1}),t[24]||(t[24]=w(". "))])]),_:1})])])}const di=U(oi,[["render",ri],["__scopeId","data-v-ca6a0d2a"],["__file","AboutCards.vue"]]),ci={__name:"TitleAndDescription",props:{editable:Boolean},emits:["edit-title-and-description"],setup(c,{expose:t,emit:a}){t();const e=T(),{t:s}=E(),i=c,o=a,d=D(()=>e.getters.wheelConfig),f=D(()=>d.value.title),p=D(()=>d.value.description),m={store:e,t:s,props:i,emit:o,wheelConfig:d,wheelTitle:f,wheelDescription:p,computed:D,get useStore(){return T},get useI18n(){return E}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},ui={class:"q-gutter-y-sm"},fi={class:"row items-center q-gutter-x-md"},mi={key:0,style:{"font-size":"32px"},class:"break-long-words"},hi={key:0,class:"break-long-words"};function gi(c,t,a,e,s,i){return _(),x("div",ui,[r("div",fi,[e.wheelTitle?(_(),x("span",mi,u(e.wheelTitle),1)):z("",!0),H(l(A,{round:"",unelevated:"",dense:"",color:"primary",icon:"fas fa-pencil-alt",onClick:t[0]||(t[0]=o=>e.emit("edit-title-and-description"))},{default:n(()=>[l(Pe,null,{default:n(()=>[w(u(e.t("common.Edit title and description")),1)]),_:1})]),_:1},512),[[te,e.props.editable]])]),e.wheelDescription?(_(),x("div",hi,u(e.wheelDescription),1)):z("",!0),t[1]||(t[1]=r("div",{class:"q-pb-sm desktop-only"},null,-1))])}const _i=U(ci,[["render",gi],["__scopeId","data-v-70bc2e94"],["__file","TitleAndDescription.vue"]]);function Nt(c,t={}){const a=t.head||Rl();if(a)return a.ssr?a.push(c,t):vi(a,c,t)}function vi(c,t,a={}){const e=h(!1),s=h({});ul(()=>{s.value=e.value?{}:Ml(t)});const i=c.push(s.value,a);return de(s,d=>{i.patch(d)}),gl()&&(fl(()=>{i.dispose()}),ml(()=>{e.value=!0}),hl(()=>{e.value=!1})),i}const pi=se({__name:"DesktopAdFreestar",setup(c,{expose:t}){t(),xe(()=>{console.log("Initializing desktop Freestar ads"),Nt({link:[{href:"https://a.pub.network/",crossorigin:"",type:"text/javascript"},{rel:"preconnect",href:"https://b.pub.network/",crossorigin:""},{rel:"preconnect",href:"https://c.pub.network/",crossorigin:""},{rel:"preconnect",href:"https://d.pub.network/",crossorigin:""},{rel:"preconnect",href:"https://c.amazon-adsystem.com",crossorigin:""},{rel:"preconnect",href:"https://s.amazon-adsystem.com",crossorigin:""},{rel:"preconnect",href:"https://btloader.com/",crossorigin:""},{rel:"preconnect",href:"https://api.btloader.com/",crossorigin:""},{rel:"preconnect",href:"https://cdn.confiant-integrations.net",crossorigin:""}],script:[{src:"https://a.pub.network/wheelofnames-com/pubfig.min.js",crossorigin:"",async:!0,"data-cfasync":!1}]}),window.freestar=window.freestar||{};const e=window.freestar;e.queue=e.queue||[],e.config=e.config||{},e.config.enabled_slots=[],e.initCallback=()=>{e.config.enabled_slots.length===0?e.initCallbackCalled=!1:e.newAdSlots(e.config.enabled_slots)},e.config.enabled_slots.push({placementName:"wheelofnames_siderail_left",slotId:"wheelofnames_siderail_left"}),e.queue.push(()=>{e.newVideo("FreeStarVideoAdContainer_slider")})}),Vt(()=>{console.log("Destroying Freestar ads");const e=window.freestar;e.queue.push(()=>{e.deleteAdSlots(),e.deleteVideo("FreeStarVideoAdContainer_slider")})});const a={};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function wi(c,t,a,e,s,i){return _(),x(he,null,[t[0]||(t[0]=r("div",{id:"wheelofnames_siderail_left","data-freestar-ad":"__336x280"},null,-1)),t[1]||(t[1]=r("button",{id:"pmLink",style:{position:"absolute",bottom:"0.25rem",left:"0.25rem"}},"Privacy Manager",-1))],64)}const yi=U(pi,[["render",wi],["__scopeId","data-v-e53d1045"],["__file","DesktopAdFreestar.vue"]]),bi={__name:"DesktopAd",setup(c,{expose:t}){t();const a=T(),{t:e}=E(),s=D(()=>a.getters.advertiser),i=D(()=>!o.value&&s.value&&s.value!=="none"),o=h(!1),d=h(!1);function f(){L("Wheel","HideDesktopAd",""),o.value=!0}function p(){d.value=!d.value,L("Wheel","ToggleBadAdInstructions",d.value?"Show":"Hide")}const m={store:a,t:e,advertiser:s,showAd:i,userHasClosedAd:o,showReporting:d,hideAd:f,toggleReportingBox:p,ref:h,computed:D,get useI18n(){return E},get Util(){return Ge},get useStore(){return T},DesktopAdFreestar:yi};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},ki={key:0,class:"root"},Si={class:"ad-declaration"},Di={style:{display:"flex","align-items":"center"}},Ai={style:{display:"flex","align-items":"center"}},Ci={key:0,class:"ad-declaration"};function Li(c,t,a,e,s,i){return e.showAd?(_(),x("div",ki,[r("div",Si,[r("span",Di,[w(u(e.t("app.Report bad ad"))+" ",1),l(A,{onClick:t[0]||(t[0]=o=>e.toggleReportingBox()),icon:"fas fa-flag",flat:"",round:"",size:"sm"})]),r("span",Ai,[w(u(e.t("app.Close ads"))+" ",1),l(A,{onClick:t[1]||(t[1]=o=>e.hideAd()),icon:"fas fa-times-circle",flat:"",round:"",size:"sm"})])]),e.showReporting?(_(),x("div",Ci,t[2]||(t[2]=[_l('<div class="card" data-v-8d7ee453><div class="card-header" data-v-8d7ee453><div class="card-header-title" data-v-8d7ee453> How to report an inappropriate ad </div></div><div class="card-content" data-v-8d7ee453><ol data-v-8d7ee453><li data-v-8d7ee453> Take a screenshot of this page. (Unsure how to take a screenshot? <a target="_new" href="https://www.take-a-screenshot.org/" data-v-8d7ee453>See instructions here</a>.) </li><li data-v-8d7ee453> Create an email with the subject line <b data-v-8d7ee453>Bad ad</b></li><li data-v-8d7ee453> Attach the screenshot to the email and send it to admin@wheelofnames.com. </li></ol></div></div>',1)]))):z("",!0),e.advertiser==="freestar"&&!e.userHasClosedAd?(_(),W(e.DesktopAdFreestar,{key:1})):z("",!0)])):z("",!0)}const Wi=U(bi,[["render",Li],["__scopeId","data-v-8d7ee453"],["__file","DesktopAd.vue"]]),Pi=se({__name:"MobileAdFreestar",setup(c,{expose:t}){t(),xe(()=>{console.log("Initializing mobile Freestar ad"),Nt({link:[{href:"https://a.pub.network/",crossorigin:"",type:"text/javascript"},{rel:"preconnect",href:"https://b.pub.network/",crossorigin:""},{rel:"preconnect",href:"https://c.pub.network/",crossorigin:""},{rel:"preconnect",href:"https://d.pub.network/",crossorigin:""},{rel:"preconnect",href:"https://c.amazon-adsystem.com",crossorigin:""},{rel:"preconnect",href:"https://s.amazon-adsystem.com",crossorigin:""},{rel:"preconnect",href:"https://btloader.com/",crossorigin:""},{rel:"preconnect",href:"https://api.btloader.com/",crossorigin:""},{rel:"preconnect",href:"https://cdn.confiant-integrations.net",crossorigin:""}],script:[{src:"https://a.pub.network/wheelofnames-com/pubfig.min.js",crossorigin:"",async:!0,"data-cfasync":!1}]}),window.freestar=window.freestar||{};const e=window.freestar;e.queue=e.queue||[],e.config=e.config||{},e.config.enabled_slots=[],e.initCallback=function(){e.config.enabled_slots.length===0?e.initCallbackCalled=!1:e.newAdSlots(e.config.enabled_slots)}});const a={};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function Ei(c,t,a,e,s,i){return null}const xi=U(Pi,[["render",Ei],["__file","MobileAdFreestar.vue"]]),Ti={__name:"MobileAd",setup(c,{expose:t}){t();const a=T(),e=D(()=>a.getters.advertiser),s={store:a,advertiser:e,computed:D,get useStore(){return T},MobileAdFreestar:xi};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}};function Vi(c,t,a,e,s,i){return e.advertiser==="freestar"?(_(),W(e.MobileAdFreestar,{key:0})):z("",!0)}const Ii=U(Ti,[["render",Vi],["__file","MobileAd.vue"]]),Oi=["https://sheets.googleapis.com/$discovery/rest?version=v4"],ji="https://www.googleapis.com/auth/drive.readonly https://www.googleapis.com/auth/spreadsheets.readonly";let Qe;function Bt(c){return Qe=c,new Promise(function(t,a){gapi.load("auth2:client:picker",function(){gapi.client.init({apiKey:"AIzaSyDjijmJdtsEsOzacG4Cl0RhKvwORhL5a4g",discoveryDocs:Oi,clientId:"1096958520212-sbdisrtnfpeuk96lbi0cfspj7pspgk38.apps.googleusercontent.com",scope:ji}).then(()=>{gapi.client.setToken({access_token:Qe}),t()})})})}function zt(){return new Promise(function(c,t){const a=new google.picker.DocsView(google.picker.ViewId.SPREADSHEETS);new google.picker.PickerBuilder().enableFeature(google.picker.Feature.NAV_HIDDEN).setAppId("1096958520212").setOAuthToken(Qe).addView(a).setDeveloperKey("AIzaSyDjijmJdtsEsOzacG4Cl0RhKvwORhL5a4g").setCallback(function(s){if(s.action=="cancel"&&t("No spreadsheet picked"),s.action=="picked"&&s.docs.length>0){const i=s.docs[0].id;c(i)}}).setTitle("Select a spreadsheet").build().setVisible(!0)})}const Ri=Object.freeze(Object.defineProperty({__proto__:null,load:Bt,pickSheet:zt},Symbol.toStringTag,{value:"Module"})),Mi={__name:"MaintenanceBanner",setup(c,{expose:t}){t();const a=T(),e=h(!0),i={store:a,showBanner:e,hide:()=>{e.value=!1},ref:h,get useStore(){return T}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},Fi={key:0,style:{"text-align":"center"}},Ui={class:"banner-text"};function qi(c,t,a,e,s,i){return e.showBanner&&e.store.getters.maintenanceMessage?(_(),x("div",Fi,[t[1]||(t[1]=r("span",{class:"banner-left"},"  ",-1)),r("span",Ui,u(e.store.getters.maintenanceMessage),1),t[2]||(t[2]=r("span",{class:"banner-right"},"  ",-1)),r("span",null,[r("i",{class:"fas fa-times close-icon",onClick:t[0]||(t[0]=o=>e.hide())})])])):z("",!0)}const Ni=U(Mi,[["render",qi],["__scopeId","data-v-06b49e44"],["__file","MaintenanceBanner.vue"]]),Bi={__name:"WheelLocationDialog",setup(c,{expose:t}){const{t:a}=E(),e=h(!1),s=h("");let i,o;function d(m){return s.value=m,e.value=!0,new Promise((g,y)=>{i=g,o=y})}function f(m){L("Wheel","WheelLocationDialog",m),i(m),e.value=!1}t({askUserForLocation:d});const p={t:a,displayDialog:e,action:s,get resolvePromise(){return i},set resolvePromise(m){i=m},get rejectPromise(){return o},set rejectPromise(m){o=m},askUserForLocation:d,pickLocation:f,ref:h,get useI18n(){return E},get trackEvent(){return L},DialogCloseIcon:Oe};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}},zi={key:0},Qi={key:1},Hi={class:"q-mt-md"},Gi={key:0},Ki={key:1},Yi={class:"q-gutter-x-md"},Ji={class:"q-mt-md"},Zi={key:0},Xi={key:1};function $i(c,t,a,e,s,i){const o=Ie("router-link");return _(),W($,{modelValue:e.displayDialog,"onUpdate:modelValue":t[2]||(t[2]=d=>e.displayDialog=d)},{default:n(()=>[l(Z,{style:{width:"400px"}},{default:n(()=>[l(O,{class:"row items-center text-h6",style:{"background-color":"#00000020"}},{default:n(()=>[e.action==="save"?(_(),x("div",zi,[t[3]||(t[3]=r("i",{class:"fas fa-save"},null,-1)),w(" "+u(e.t("savedialog.Save wheel")),1)])):(_(),x("div",Qi,[t[4]||(t[4]=r("i",{class:"fas fa-folder-open"},null,-1)),w(" "+u(e.t("opendialog.Open wheel")),1)])),l(ce),l(e.DialogCloseIcon)]),_:1}),l(O,{class:"q-gutter-y-md"},{default:n(()=>[l(A,{unelevated:"","no-caps":"",color:"primary",padding:"lg",onClick:t[0]||(t[0]=d=>e.pickLocation("cloud")),style:{width:"100%"}},{default:n(()=>[r("div",null,[l(Q,{name:"fas fa-cloud",size:"8em"}),r("div",Hi,[e.action==="save"?(_(),x("span",Gi,u(e.t("savedialog.Save to the cloud (recommended)")),1)):(_(),x("span",Ki,u(e.t("opendialog.Open from the cloud (recommended)")),1))])])]),_:1}),l(A,{unelevated:"","no-caps":"",color:"grey-7",padding:"sm",onClick:t[1]||(t[1]=d=>e.pickLocation("local")),style:{width:"100%"}},{default:n(()=>[r("div",Yi,[l(Q,{name:"fas fa-hard-drive",size:"4em"}),r("span",Ji,[e.action==="save"?(_(),x("span",Zi,u(e.t("savedialog.Save to a local file")),1)):(_(),x("span",Xi,u(e.t("opendialog.Open a local file")),1))])])]),_:1}),r("div",null,[t[5]||(t[5]=r("i",{class:"fa-regular fa-circle-question q-mr-sm"},null,-1)),l(o,{target:"_blank",to:"/faq/saving"},{default:n(()=>[w(u(e.t("app.Help me choose")),1)]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const es=U(Bi,[["render",$i],["__file","WheelLocationDialog.vue"]]),Pt=56,Et=16,ts={__name:"EditWheelPage",setup(c,{expose:t}){t();const a=T(),e=pe(),s=bt(),i=J(),{t:o,locale:d,setLocaleMessage:f}=E(),{shouldUseMobileLayout:p}=Dt();xe(async()=>{await g(s.params.lang||"en"),a.dispatch("loadInitialEditableWheel"),a.dispatch("loadServerSettings"),await a.dispatch("loadPreferences"),i.dark.set(a.getters.darkMode),s.query.entries&&(L("Wheel","SetEntriesFromUrl"),a.commit("setTextEntries",s.query.entries.split(",")),e.replace({query:{}})),setTimeout(()=>{a.getters.wheelIsAdvanced&&!a.getters.wheelConfig.usesAdvancedFeatures()&&(L("Wheel","AdvancedWheelAutoDowngraded"),a.dispatch("setAdvanced",!1))},200)});async function m(C){L("Wheel","ChangeLanguage"),g(C),e.push(`/${qe(C)}`).catch(N=>{console.error(N)})}async function g(C){if(!C||!y(C))return;v(C);const N=await S(C);f(C,N),d.value=C}function y(C){return He().find(N=>N.name==C)}function v(C){const N=vl(C,navigator.languages);N&&setTimeout(async()=>{const X=await S(N);ie(X.app["Click the Language menu"])},3e3)}async function S(C){const N=pl(C);return(await yl(Object.assign({"../i18n/am-ET.json":()=>b(()=>import("./am-ET-v321.js"),[]),"../i18n/ar-EG.json":()=>b(()=>import("./ar-EG-v321.js"),[]),"../i18n/az-Latn-AZ.json":()=>b(()=>import("./az-Latn-AZ-v321.js"),[]),"../i18n/bg-BG.json":()=>b(()=>import("./bg-BG-v321.js"),[]),"../i18n/bn-IN.json":()=>b(()=>import("./bn-IN-v321.js"),[]),"../i18n/bs-Latn-BA.json":()=>b(()=>import("./bs-Latn-BA-v321.js"),[]),"../i18n/ca-ES.json":()=>b(()=>import("./ca-ES-v321.js"),[]),"../i18n/cs-CZ.json":()=>b(()=>import("./cs-CZ-v321.js"),[]),"../i18n/cy-GB.json":()=>b(()=>import("./cy-GB-v321.js"),[]),"../i18n/da-DK.json":()=>b(()=>import("./da-DK-v321.js"),[]),"../i18n/de-DE.json":()=>b(()=>import("./de-DE-v321.js"),[]),"../i18n/el-GR.json":()=>b(()=>import("./el-GR-v321.js"),[]),"../i18n/en-PI.json":()=>b(()=>import("./en-PI-v321.js"),[]),"../i18n/en-US.json":()=>b(()=>import("./en-US-v321.js"),[]),"../i18n/es-ES.json":()=>b(()=>import("./es-ES-v321.js"),[]),"../i18n/et-EE.json":()=>b(()=>import("./et-EE-v321.js"),[]),"../i18n/fa-IR.json":()=>b(()=>import("./fa-IR-v321.js"),[]),"../i18n/fi-FI.json":()=>b(()=>import("./fi-FI-v321.js"),[]),"../i18n/fil-PH.json":()=>b(()=>import("./fil-PH-v321.js"),[]),"../i18n/fr-FR.json":()=>b(()=>import("./fr-FR-v321.js"),[]),"../i18n/gl-ES.json":()=>b(()=>import("./gl-ES-v321.js"),[]),"../i18n/gu-IN.json":()=>b(()=>import("./gu-IN-v321.js"),[]),"../i18n/he-IL.json":()=>b(()=>import("./he-IL-v321.js"),[]),"../i18n/hi-IN.json":()=>b(()=>import("./hi-IN-v321.js"),[]),"../i18n/hr-HR.json":()=>b(()=>import("./hr-HR-v321.js"),[]),"../i18n/hu-HU.json":()=>b(()=>import("./hu-HU-v321.js"),[]),"../i18n/hy-AM.json":()=>b(()=>import("./hy-AM-v321.js"),[]),"../i18n/id-ID.json":()=>b(()=>import("./id-ID-v321.js"),[]),"../i18n/is-IS.json":()=>b(()=>import("./is-IS-v321.js"),[]),"../i18n/it-IT.json":()=>b(()=>import("./it-IT-v321.js"),[]),"../i18n/ja-JP.json":()=>b(()=>import("./ja-JP-v321.js"),[]),"../i18n/ka-GE.json":()=>b(()=>import("./ka-GE-v321.js"),[]),"../i18n/kk-KZ.json":()=>b(()=>import("./kk-KZ-v321.js"),[]),"../i18n/kn-IN.json":()=>b(()=>import("./kn-IN-v321.js"),[]),"../i18n/ko-KR.json":()=>b(()=>import("./ko-KR-v321.js"),[]),"../i18n/lo-LA.json":()=>b(()=>import("./lo-LA-v321.js"),[]),"../i18n/lt-LT.json":()=>b(()=>import("./lt-LT-v321.js"),[]),"../i18n/lv-LV.json":()=>b(()=>import("./lv-LV-v321.js"),[]),"../i18n/mk-MK.json":()=>b(()=>import("./mk-MK-v321.js"),[]),"../i18n/ml-IN.json":()=>b(()=>import("./ml-IN-v321.js"),[]),"../i18n/mn-MN.json":()=>b(()=>import("./mn-MN-v321.js"),[]),"../i18n/ms-MY.json":()=>b(()=>import("./ms-MY-v321.js"),[]),"../i18n/my-MM.json":()=>b(()=>import("./my-MM-v321.js"),[]),"../i18n/nb-NO.json":()=>b(()=>import("./nb-NO-v321.js"),[]),"../i18n/nl-NL.json":()=>b(()=>import("./nl-NL-v321.js"),[]),"../i18n/pa-IN.json":()=>b(()=>import("./pa-IN-v321.js"),[]),"../i18n/pl-PL.json":()=>b(()=>import("./pl-PL-v321.js"),[]),"../i18n/pt-PT.json":()=>b(()=>import("./pt-PT-v321.js"),[]),"../i18n/ro-RO.json":()=>b(()=>import("./ro-RO-v321.js"),[]),"../i18n/ru-RU.json":()=>b(()=>import("./ru-RU-v321.js"),[]),"../i18n/sl-SI.json":()=>b(()=>import("./sl-SI-v321.js"),[]),"../i18n/so-SO.json":()=>b(()=>import("./so-SO-v321.js"),[]),"../i18n/sq-AL.json":()=>b(()=>import("./sq-AL-v321.js"),[]),"../i18n/sr-Latn-RS.json":()=>b(()=>import("./sr-Latn-RS-v321.js"),[]),"../i18n/sv-SE.json":()=>b(()=>import("./sv-SE-v321.js"),[]),"../i18n/ta-IN.json":()=>b(()=>import("./ta-IN-v321.js"),[]),"../i18n/th-TH.json":()=>b(()=>import("./th-TH-v321.js"),[]),"../i18n/tr-TR.json":()=>b(()=>import("./tr-TR-v321.js"),[]),"../i18n/uk-UA.json":()=>b(()=>import("./uk-UA-v321.js"),[]),"../i18n/ur-PK.json":()=>b(()=>import("./ur-PK-v321.js"),[]),"../i18n/uz-Latn-UZ.json":()=>b(()=>import("./uz-Latn-UZ-v321.js"),[]),"../i18n/vi-VN.json":()=>b(()=>import("./vi-VN-v321.js"),[]),"../i18n/zh-CN.json":()=>b(()=>import("./zh-CN-v321.js"),[]),"../i18n/zh-HK.json":()=>b(()=>import("./zh-HK-v321.js"),[])}),`../i18n/${N}.json`,3)).default}const{width:P,height:V}=yt(),R=D(()=>V.value-(Pt+Et)),G=h(null),K=h(null),q=h(null),I=D(()=>a.getters.wheelConfig);function M(){L("Wheel","NewWheel"),a.commit("saveWheelConfigForUndo"),a.dispatch("resetWheel"),j(),Ct(o,o("app.Loaded default names and options"),()=>{L("Wheel","UndoNewWheel"),a.commit("undoWheelConfigChange")});const C=kt(location.hostname,d.value);e.replace(C)}function j(){G.value.resetRotation()}function oe(){const C=kt(location.hostname,d.value);window.history.replaceState({},"",C)}function re(C){I.value.displayWinnerDialog&&K.value.show(C),I.value.animateWinner&&q.value.show(C),I.value.launchConfetti&&At(I.value.getCoalescedColors())}de(()=>I.value,()=>{Wl(I.value.duringSpinSound,I.value.afterSpinSound)});const _e=h(null),De=h(null),we=h(null);async function je(C){let N;do{let X=a.getters.wheelLocation;X!=="cloud"&&(X=await Me.value.askUserForLocation("open"),a.commit("setWheelLocation",X)),N=await(X==="local"?Re():Ze(C.shiftKey)),N==="switch"&&a.commit("switchWheelLocation")}while(N==="switch")}async function Ze(C){try{if(!await fe()&&await _e.value.askUserToLogIn("open")==="switch")return a.commit("switchWheelLocation"),Re();if(await fe())return C?await we.value.show():await De.value.show()}catch(N){Y(o,N),B("OpenWheelError",N)}}async function fe(){return await a.dispatch("userIsLoggedIn")}async function Re(){try{const N=await(await Wt({mimeTypes:["text/plain","application/json"],extensions:[".json",".wheel"]})).text(),X=JSON.parse(N);a.commit("setWheelConfig",X)}catch(C){if(C instanceof DOMException&&C.message.includes("abort"))return;Y(o,C),B("OpenWheelFromLocalFileError",C)}}const Xe=h(null),$e=h(null),Me=h(null);async function Qt(){let C;do{const N=a.getters.wheelLocation||await Me.value.askUserForLocation("save");a.commit("setWheelLocation",N),C=await(N==="local"?Ae():et()),C==="switch"&&a.commit("switchWheelLocation")}while(C==="switch")}async function et(){if(I.value.isTooBigForDatabase())return L("Wheel","WheelTooBigForDatabase",""),await Lt(o,o("savedialog.Thats a lot of images"),o("savedialog.Do you want to save it as a local file instead?"))?Ae():void 0;try{if(!await fe()&&await _e.value.askUserToLogIn("save")==="switch")return a.commit("switchWheelLocation"),Ae();if(await fe()){const C=await Xe.value.show();return oe(),C}}catch(C){Y(o,C),B("SaveWheelError",C)}}function Ae(){return $e.value.show()}const tt=h(null),lt=h(null),ot=h(null),nt=h(null),at=h(null);async function Ht(){if(I.value.isTooBigForDatabase()){L("Wheel","WheelTooBigForDatabase",""),ze(o,o("savedialog.Sorry, too many images"));return}try{const{openMySharedWheels:C,openShareSettings:N}=await tt.value.show();if(C&&lt.value.show(),N){const X=await ot.value.askUserForSettings();if(!X)return;let ye,Ce;if(X==="live"){const Fe=await at.value.show();if(!Fe)return;ye=Fe.editPermissions,Ce=Fe.password}await nt.value.share(X,ye,Ce)}}catch(C){Y(o,C),B("ShareWheelError",C)}}const it=D(()=>i.fullscreen.isActive),Gt=D(()=>!it.value&&!i.platform.is.capacitor&&!i.platform.within.iframe),st=D(()=>window.location.pathname.includes("/noads")),Kt=D(()=>i.platform.is.desktop&&!st.value),rt=h(null);function Yt(){rt.value.show()}const dt=h(null),ct=h(null),ut=h(null);async function Jt(){a.commit("unlinkSheet");const C=await dt.value.askUserToLogIn();if(C){await Bt(C);const N=await zt();if(N){const{tab:X,column:ye,skipFirstRow:Ce}=await ct.value.askUserToConfigure(N);X&&ye&&ut.value.start(N,X,ye,Ce)}}}const ft=h(null);async function Zt(){try{await fe()||await _e.value.askUserToLogIn(),await fe()&&await ft.value.show()}catch(C){Y(o,C),B("AccountDialogError",C)}}const mt=h(null);function Xt(){mt.value.show()}const ht=h(null);function $t(){ht.value.show()}const el=D(()=>"fd37"),tl=D(()=>a.getters.commitHash),gt={store:a,router:e,route:s,$q:i,t:o,locale:d,setLocaleMessage:f,shouldUseMobileLayout:p,loadLanguageAndChangeUrl:m,loadLanguage:g,languageSupported:y,displayLanguageTip:v,getTranslation:S,windowWidth:P,windowHeight:V,TOOLBAR_HEIGHT:Pt,PADDING:Et,noToolbarHeight:R,spinningWheel:G,winnerDialog:K,winnerAnimation:q,wheelConfig:I,resetWheel:M,resetWheelRotation:j,resetAddressBar:oe,wheelStopped:re,loginDialog:_e,openDialog:De,myWheelsDialog:we,openWheel:je,openWheelFromCloud:Ze,userIsLoggedIn:fe,openWheelFromLocal:Re,saveCloudDialog:Xe,saveLocalDialog:$e,wheelLocationDialog:Me,saveWheel:Qt,saveWheelToCloud:et,saveWheelToLocal:Ae,shareDialogInfo:tt,shareDialogMySharedWheels:lt,shareDialogSettings:ot,shareDialogLink:nt,liveWheelPermissionDialog:at,shareWheel:Ht,fullscreen:it,showAboutCards:Gt,noAds:st,showDesktopAd:Kt,customizeDialog:rt,customizeWheel:Yt,sheetLoginDialog:dt,sheetConfigDialog:ct,sheetDataPump:ut,linkSheet:Jt,accountDialog:ft,openAccountDialog:Zt,languageDialog:mt,openLanguageDialog:Xt,titleAndDescriptionDialog:ht,openTitleAndDescriptionDialog:$t,clientCommitHash:el,serverCommitHash:tl,ref:h,computed:D,watch:de,onMounted:xe,onUnmounted:Vt,get useStore(){return T},get useRouter(){return pe},get useRoute(){return bt},get useQuasar(){return J},get useI18n(){return E},get useWindowSize(){return yt},get fileOpen(){return Wt},AppToolbar:ro,SpinningWheel:Cl,WinnerDialog:El,LoginDialog:mo,MyWheelsDialog:Ro,OpenDialog:zo,SaveCloudDialog:en,SaveLocalDialog:rn,ShareDialogInfo:fn,ShareDialogMySharedWheels:Wn,ShareDialogSettings:Mn,ShareDialogLink:Qn,LiveWheelPermissionDialog:ea,CustomizeDialog:xl,SheetLoginDialog:ia,SheetConfigDialog:ka,AccountDialog:Ta,LanguageDialog:za,TitleAndDescriptionDialog:Ga,SheetDataPump:Ja,EditorColumn:Tl,AboutCards:di,TitleAndDescription:_i,DesktopAd:Wi,MobileAd:Ii,get Locales(){return Ve},get Audio(){return Ll},get trackException(){return B},get trackEvent(){return L},get getNonEnglishLocale(){return qe},get launch(){return At},WinnerAnimation:Vl,get SheetPicker(){return Ri},MaintenanceBanner:Ni,WheelLocationDialog:es,get showError(){return Y},get showBasicError(){return ze},get showNotification(){return ie},get showNotificationWithUndo(){return Ct},get yesNoChoice(){return Lt},get useLayoutFormat(){return Dt}};return Object.defineProperty(gt,"__isScriptSetup",{enumerable:!1,value:!0}),gt}},ls={class:"q-pa-md"},os={style:{height:"600px"}},ns={key:0},as={class:"q-px-md q-pt-md row",style:{position:"relative"}},is={class:"col-3"},ss={class:"col-6"},rs={key:0},ds={key:1};function cs(c,t,a,e,s,i){return _(),x(he,null,[l(kl,{view:"hhh lpr fff"},{default:n(()=>[l(Sl,{reveal:"",elevated:"",class:"bg-primary text-white"},{default:n(()=>[l(e.MaintenanceBanner),l(e.AppToolbar,{onResetWheel:e.resetWheel,onOpenWheel:e.openWheel,onSaveWheel:e.saveWheel,onShareWheel:e.shareWheel,onCustomizeWheel:e.customizeWheel,onLinkSheet:e.linkSheet,onOpenAccountDialog:e.openAccountDialog,onLanguageChanged:e.loadLanguageAndChangeUrl,onOpenLanguages:e.openLanguageDialog})]),_:1}),e.shouldUseMobileLayout?(_(),W(St,{key:0},{default:n(()=>[r("div",ls,[H(l(e.TitleAndDescription,{editable:!e.fullscreen,onEditTitleAndDescription:e.openTitleAndDescriptionDialog},null,8,["editable"]),[[te,e.wheelConfig.showTitle]]),l(e.SpinningWheel,{ref:"spinningWheel",onWheelStopped:e.wheelStopped},null,512),r("div",os,[H(l(e.EditorColumn,{showAppInfo:!0},null,512),[[te,!e.fullscreen]])])]),e.showAboutCards?(_(),x("div",ns,[t[0]||(t[0]=r("hr",null,null,-1)),l(e.AboutCards)])):z("",!0),w(" "+u(e.clientCommitHash)+" / "+u(e.serverCommitHash)+" ",1),l(e.MobileAd)]),_:1})):(_(),W(St,{key:1},{default:n(()=>[r("div",as,[r("div",is,[H(l(e.TitleAndDescription,{editable:!e.fullscreen,onEditTitleAndDescription:e.openTitleAndDescriptionDialog},null,8,["editable"]),[[te,e.wheelConfig.showTitle]]),e.showDesktopAd?H((_(),W(e.DesktopAd,{key:0},null,512)),[[te,!e.fullscreen]]):z("",!0)]),r("div",ss,[l(e.SpinningWheel,{ref:"spinningWheel",onWheelStopped:e.wheelStopped},null,512)]),r("div",{class:"col-3 q-pb-md",style:wl("height: "+e.noToolbarHeight+"px")},[H(l(e.EditorColumn,{showAppInfo:!0},null,512),[[te,!e.fullscreen]])],4)]),e.showAboutCards?(_(),x("div",rs,[t[1]||(t[1]=r("hr",null,null,-1)),l(e.AboutCards)])):z("",!0),e.showAboutCards?(_(),x("div",ds,u(e.clientCommitHash)+" / "+u(e.serverCommitHash),1)):z("",!0)]),_:1})),l(e.WinnerDialog,{ref:"winnerDialog"},null,512),l(e.LoginDialog,{ref:"loginDialog"},null,512),l(e.MyWheelsDialog,{ref:"myWheelsDialog",onResetWheelRotation:e.resetWheelRotation,onResetAddressBar:e.resetAddressBar},null,512),l(e.OpenDialog,{ref:"openDialog",onResetWheelRotation:e.resetWheelRotation,onResetAddressBar:e.resetAddressBar},null,512),l(e.SaveCloudDialog,{ref:"saveCloudDialog"},null,512),l(e.SaveLocalDialog,{ref:"saveLocalDialog"},null,512),l(e.ShareDialogInfo,{ref:"shareDialogInfo"},null,512),l(e.ShareDialogMySharedWheels,{ref:"shareDialogMySharedWheels"},null,512),l(e.ShareDialogSettings,{ref:"shareDialogSettings"},null,512),l(e.ShareDialogLink,{ref:"shareDialogLink"},null,512),l(e.LiveWheelPermissionDialog,{ref:"liveWheelPermissionDialog"},null,512),l(e.CustomizeDialog,{ref:"customizeDialog"},null,512),l(e.SheetLoginDialog,{ref:"sheetLoginDialog"},null,512),l(e.SheetConfigDialog,{ref:"sheetConfigDialog"},null,512),l(e.SheetDataPump,{ref:"sheetDataPump"},null,512),l(e.AccountDialog,{ref:"accountDialog"},null,512),l(e.LanguageDialog,{ref:"languageDialog",onLanguageChanged:e.loadLanguageAndChangeUrl},null,512),l(e.TitleAndDescriptionDialog,{ref:"titleAndDescriptionDialog"},null,512),l(e.WheelLocationDialog,{ref:"wheelLocationDialog"},null,512)]),_:1}),l(e.WinnerAnimation,{ref:"winnerAnimation"},null,512)],64)}const Vs=U(ts,[["render",cs],["__file","EditWheelPage.vue"]]);export{Vs as default};
